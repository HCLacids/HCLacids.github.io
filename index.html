<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <link rel="alternate" href="/atom.xml" title="HCL's Blog" type="application/atom+xml">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.5.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":true},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'å¤åˆ¶',
      copy_success: 'å¤åˆ¶æˆåŠŸ',
      copy_failure: 'å¤åˆ¶å¤±è´¥'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="Fighting!">
<meta property="og:type" content="website">
<meta property="og:title" content="HCL&#39;s Blog">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;index.html">
<meta property="og:site_name" content="HCL&#39;s Blog">
<meta property="og:description" content="Fighting!">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false,
    isPage: false,
    isArchive: false
  };
</script>

  <title>HCL's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">HCL's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Recording the study progress</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>å…³äº</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>æ ‡ç­¾<span class="badge">0</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>åˆ†ç±»<span class="badge">0</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>å½’æ¡£<span class="badge">10</span></a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/16/Redux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="HCLacids">
      <meta itemprop="description" content="Fighting!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HCL's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/16/Redux/" class="post-title-link" itemprop="url">Redux</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-09-16 19:46:19" itemprop="dateCreated datePublished" datetime="2020-09-16T19:46:19+08:00">2020-09-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-10-26 16:07:08" itemprop="dateModified" datetime="2020-10-26T16:07:08+08:00">2020-10-26</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Redux"><a href="#Redux" class="headerlink" title="Redux"></a>Redux</h1><h2 id="ä»€ä¹ˆæ—¶å€™éœ€è¦-Redux"><a href="#ä»€ä¹ˆæ—¶å€™éœ€è¦-Redux" class="headerlink" title="ä»€ä¹ˆæ—¶å€™éœ€è¦ Redux"></a>ä»€ä¹ˆæ—¶å€™éœ€è¦ Redux</h2><p>é¦–å…ˆæ˜ç¡®ä¸€ç‚¹ï¼ŒRedux æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„æ¶æ„ï¼Œä½†ä¸æ˜¯éç”¨ä¸å¯ã€‚äº‹å®ä¸Šï¼Œå¤§å¤šæ•°æƒ…å†µï¼Œä½ å¯ä»¥ä¸ç”¨å®ƒï¼Œåªç”¨ React å°±å¤Ÿäº†ã€‚</p>
<p>ç®€å•è¯´ï¼Œå¦‚æœä½ çš„UIå±‚éå¸¸ç®€å•ï¼Œæ²¡æœ‰å¾ˆå¤šäº’åŠ¨ï¼ŒRedux å°±æ˜¯ä¸å¿…è¦çš„ï¼Œç”¨äº†åè€Œå¢åŠ å¤æ‚æ€§ã€‚Redux çš„é€‚ç”¨åœºæ™¯ï¼šå¤šäº¤äº’ã€å¤šæ•°æ®æºã€‚</p>
<p>ä»ç»„ä»¶è§’åº¦çœ‹ï¼Œå¦‚æœä½ çš„åº”ç”¨æœ‰ä»¥ä¸‹åœºæ™¯ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ Reduxã€‚</p>
<ul>
<li>æŸä¸ªç»„ä»¶çš„çŠ¶æ€ï¼Œéœ€è¦å…±äº«</li>
<li>æŸä¸ªçŠ¶æ€éœ€è¦åœ¨ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥æ‹¿åˆ°</li>
<li>ä¸€ä¸ªç»„ä»¶éœ€è¦æ”¹å˜å…¨å±€çŠ¶æ€</li>
<li>ä¸€ä¸ªç»„ä»¶éœ€è¦æ”¹å˜å¦ä¸€ä¸ªç»„ä»¶çš„çŠ¶æ€</li>
</ul>
<h2 id="åŸºæœ¬æ¦‚å¿µå’Œ-API"><a href="#åŸºæœ¬æ¦‚å¿µå’Œ-API" class="headerlink" title="åŸºæœ¬æ¦‚å¿µå’Œ API"></a>åŸºæœ¬æ¦‚å¿µå’Œ API</h2><h3 id="Store"><a href="#Store" class="headerlink" title="Store"></a>Store</h3><p>Store å°±æ˜¯ä¿å­˜æ•°æ®çš„åœ°æ–¹ï¼Œä½ å¯ä»¥æŠŠå®ƒçœ‹æˆä¸€ä¸ªå®¹å™¨ã€‚æ•´ä¸ªåº”ç”¨åªèƒ½æœ‰ä¸€ä¸ª Storeã€‚</p>
<p>Redux æä¾›<code>createStore</code>è¿™ä¸ªå‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ Storeã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">'redux'</span>;</span><br><span class="line"><span class="keyword">const</span> store = createStore(fn);</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>createStore</code>å‡½æ•°æ¥å—å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿”å›æ–°ç”Ÿæˆçš„ Store å¯¹è±¡ã€‚</p>
<h3 id="State"><a href="#State" class="headerlink" title="State"></a>State</h3><p><code>Store</code>å¯¹è±¡åŒ…å«æ‰€æœ‰æ•°æ®ã€‚å¦‚æœæƒ³å¾—åˆ°æŸä¸ªæ—¶ç‚¹çš„æ•°æ®ï¼Œå°±è¦å¯¹ Store ç”Ÿæˆå¿«ç…§ã€‚è¿™ç§æ—¶ç‚¹çš„æ•°æ®é›†åˆï¼Œå°±å«åš Stateã€‚</p>
<p>å½“å‰æ—¶åˆ»çš„ Stateï¼Œå¯ä»¥é€šè¿‡<code>store.getState()</code>æ‹¿åˆ°ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">'redux'</span>;</span><br><span class="line"><span class="keyword">const</span> store = createStore(fn);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> state = store.getState();</span><br></pre></td></tr></table></figure>
</blockquote>
<p>Redux è§„å®šï¼Œ ä¸€ä¸ª State å¯¹åº”ä¸€ä¸ª Viewã€‚åªè¦ State ç›¸åŒï¼ŒView å°±ç›¸åŒã€‚ä½ çŸ¥é“ Stateï¼Œå°±çŸ¥é“ View æ˜¯ä»€ä¹ˆæ ·ï¼Œåä¹‹äº¦ç„¶ã€‚</p>
<h3 id="Action"><a href="#Action" class="headerlink" title="Action"></a>Action</h3><p>State çš„å˜åŒ–ï¼Œä¼šå¯¼è‡´ View çš„å˜åŒ–ã€‚ä½†æ˜¯ï¼Œç”¨æˆ·æ¥è§¦ä¸åˆ° Stateï¼Œåªèƒ½æ¥è§¦åˆ° Viewã€‚æ‰€ä»¥ï¼ŒState çš„å˜åŒ–å¿…é¡»æ˜¯ View å¯¼è‡´çš„ã€‚Action å°±æ˜¯ View å‘å‡ºçš„é€šçŸ¥ï¼Œè¡¨ç¤º State åº”è¯¥è¦å‘ç”Ÿå˜åŒ–äº†ã€‚</p>
<p>Action æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚å…¶ä¸­çš„<code>type</code>å±æ€§æ˜¯å¿…é¡»çš„ï¼Œè¡¨ç¤º Action çš„åç§°ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> action = &#123;</span><br><span class="line">  type: <span class="string">'ADD_TODO'</span>,</span><br><span class="line">  payload: <span class="string">'Learn Redux'</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼ŒAction çš„åç§°æ˜¯<code>ADD_TODO</code>ï¼Œå®ƒæºå¸¦çš„ä¿¡æ¯æ˜¯å­—ç¬¦ä¸²<code>Learn Redux</code>ã€‚</p>
<p>å¯ä»¥è¿™æ ·ç†è§£ï¼ŒAction æè¿°å½“å‰å‘ç”Ÿçš„äº‹æƒ…ã€‚æ”¹å˜ State çš„å”¯ä¸€åŠæ³•ï¼Œå°±æ˜¯ä½¿ç”¨ Actionã€‚å®ƒä¼šè¿é€æ•°æ®åˆ° Storeã€‚</p>
<h3 id="Action-Creator"><a href="#Action-Creator" class="headerlink" title="Action Creator"></a>Action Creator</h3><p>View è¦å‘é€å¤šå°‘ç§æ¶ˆæ¯ï¼Œå°±ä¼šæœ‰å¤šå°‘ç§ Actionã€‚å¦‚æœéƒ½æ‰‹å†™ï¼Œä¼šå¾ˆéº»çƒ¦ã€‚å¯ä»¥å®šä¹‰ä¸€ä¸ªå‡½æ•°æ¥ç”Ÿæˆ Actionï¼Œè¿™ä¸ªå‡½æ•°å°±å« Action Creatorã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ADD_TODO = <span class="string">'æ·»åŠ  TODO'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addTodo</span>(<span class="params">text</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    type: ADD_TODO,</span><br><span class="line">    text</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> action = addTodo(<span class="string">'Learn Redux'</span>);</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>addTodo</code>å‡½æ•°å°±æ˜¯ä¸€ä¸ª Action Creatorã€‚</p>
<h3 id="store-dispatch"><a href="#store-dispatch" class="headerlink" title="store.dispatch()"></a>store.dispatch()</h3><p><code>store.dispatch()</code>æ˜¯ View å‘å‡º Action çš„å”¯ä¸€æ–¹æ³•ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">'redux'</span>;</span><br><span class="line"><span class="keyword">const</span> store = createStore(fn);</span><br><span class="line"></span><br><span class="line">store.dispatch(&#123;</span><br><span class="line">  type: <span class="string">'ADD_TODO'</span>,</span><br><span class="line">  payload: <span class="string">'Learn Redux'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>store.dispatch</code>æ¥å—ä¸€ä¸ª Action å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå°†å®ƒå‘é€å‡ºå»ã€‚</p>
<p>ç»“åˆ Action Creatorï¼Œè¿™æ®µä»£ç å¯ä»¥æ”¹å†™å¦‚ä¸‹ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">store.dispatch(addTodo(<span class="string">'Learn Redux'</span>));</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="Reducer"><a href="#Reducer" class="headerlink" title="Reducer"></a>Reducer</h2><p>Store æ”¶åˆ° Action ä»¥åï¼Œå¿…é¡»ç»™å‡ºä¸€ä¸ªæ–°çš„ Stateï¼Œè¿™æ · View æ‰ä¼šå‘ç”Ÿå˜åŒ–ã€‚è¿™ç§ State çš„è®¡ç®—è¿‡ç¨‹å°±å«åš Reducerã€‚</p>
<p>Reducer æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å— Action å’Œå½“å‰ State ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„ Stateã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reducer = <span class="function"><span class="keyword">function</span> (<span class="params">state, action</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">return</span> new_state;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>æ•´ä¸ªåº”ç”¨çš„åˆå§‹çŠ¶æ€ï¼Œå¯ä»¥ä½œä¸º State çš„é»˜è®¤å€¼ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå®é™…çš„ä¾‹å­ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> defaultState = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> reducer = <span class="function">(<span class="params">state = defaultState, action</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'ADD'</span>:</span><br><span class="line">      <span class="keyword">return</span> state + action.payload;</span><br><span class="line">    <span class="keyword">default</span>: </span><br><span class="line">      <span class="keyword">return</span> state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> state = reducer(<span class="number">1</span>, &#123;</span><br><span class="line">  type: <span class="string">'ADD'</span>,</span><br><span class="line">  payload: <span class="number">2</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>reducer</code>å‡½æ•°æ”¶åˆ°åä¸º<code>ADD</code>çš„ Action ä»¥åï¼Œå°±è¿”å›ä¸€ä¸ªæ–°çš„ Stateï¼Œä½œä¸ºåŠ æ³•çš„è®¡ç®—ç»“æœã€‚å…¶ä»–è¿ç®—çš„é€»è¾‘ï¼ˆæ¯”å¦‚å‡æ³•ï¼‰ï¼Œä¹Ÿå¯ä»¥æ ¹æ® Action çš„ä¸åŒæ¥å®ç°ã€‚</p>
<p>å®é™…åº”ç”¨ä¸­ï¼ŒReducer å‡½æ•°ä¸ç”¨åƒä¸Šé¢è¿™æ ·æ‰‹åŠ¨è°ƒç”¨ï¼Œ<code>store.dispatch</code>æ–¹æ³•ä¼šè§¦å‘ Reducer çš„è‡ªåŠ¨æ‰§è¡Œã€‚ä¸ºæ­¤ï¼ŒStore éœ€è¦çŸ¥é“ Reducer å‡½æ•°ï¼Œåšæ³•å°±æ˜¯åœ¨ç”Ÿæˆ Store çš„æ—¶å€™ï¼Œå°† Reducer ä¼ å…¥<code>createStore</code>æ–¹æ³•ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">'redux'</span>;</span><br><span class="line"><span class="keyword">const</span> store = createStore(reducer);</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>createStore</code>æ¥å— Reducer ä½œä¸ºå‚æ•°ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„ Storeã€‚ä»¥åæ¯å½“<code>store.dispatch</code>å‘é€è¿‡æ¥ä¸€ä¸ªæ–°çš„ Actionï¼Œå°±ä¼šè‡ªåŠ¨è°ƒç”¨ Reducerï¼Œå¾—åˆ°æ–°çš„ Stateã€‚</p>
<p>ä¸ºä»€ä¹ˆè¿™ä¸ªå‡½æ•°å«åš Reducer å‘¢ï¼Ÿå› ä¸ºå®ƒå¯ä»¥ä½œä¸ºæ•°ç»„çš„<code>reduce</code>æ–¹æ³•çš„å‚æ•°ã€‚è¯·çœ‹ä¸‹é¢çš„ä¾‹å­ï¼Œä¸€ç³»åˆ— Action å¯¹è±¡æŒ‰ç…§é¡ºåºä½œä¸ºä¸€ä¸ªæ•°ç»„ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> actions = [</span><br><span class="line">  &#123; <span class="attr">type</span>: <span class="string">'ADD'</span>, <span class="attr">payload</span>: <span class="number">0</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">type</span>: <span class="string">'ADD'</span>, <span class="attr">payload</span>: <span class="number">1</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">type</span>: <span class="string">'ADD'</span>, <span class="attr">payload</span>: <span class="number">2</span> &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> total = actions.reduce(reducer, <span class="number">0</span>); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œæ•°ç»„<code>actions</code>è¡¨ç¤ºä¾æ¬¡æœ‰ä¸‰ä¸ª Actionï¼Œåˆ†åˆ«æ˜¯åŠ <code>0</code>ã€åŠ <code>1</code>å’ŒåŠ <code>2</code>ã€‚æ•°ç»„çš„<code>reduce</code>æ–¹æ³•æ¥å— Reducer å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå°±å¯ä»¥ç›´æ¥å¾—åˆ°æœ€ç»ˆçš„çŠ¶æ€<code>3</code>ã€‚</p>
<h3 id="çº¯å‡½æ•°"><a href="#çº¯å‡½æ•°" class="headerlink" title="çº¯å‡½æ•°"></a>çº¯å‡½æ•°</h3><p>ä»€ä¹ˆæ˜¯çº¯å‡½æ•°ï¼Ÿ<a href="https://www.jianshu.com/p/a5a6d4399d69" target="_blank" rel="noopener">https://www.jianshu.com/p/a5a6d4399d69</a> </p>
<p>ç”±äº Reducer æ˜¯çº¯å‡½æ•°ï¼Œå°±å¯ä»¥ä¿è¯åŒæ ·çš„Stateï¼Œå¿…å®šå¾—åˆ°åŒæ ·çš„ Viewã€‚ä½†ä¹Ÿæ­£å› ä¸ºè¿™ä¸€ç‚¹ï¼ŒReducer å‡½æ•°é‡Œé¢ä¸èƒ½æ”¹å˜ Stateï¼Œå¿…é¡»è¿”å›ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ï¼Œè¯·å‚è€ƒä¸‹é¢çš„å†™æ³•ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// State æ˜¯ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reducer</span>(<span class="params">state, action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>.assign(&#123;&#125;, state, &#123; thingToChange &#125;);</span><br><span class="line">  <span class="comment">// æˆ–è€…</span></span><br><span class="line">  <span class="keyword">return</span> &#123; ...state, ...newState &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// State æ˜¯ä¸€ä¸ªæ•°ç»„</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reducer</span>(<span class="params">state, action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [...state, newItem];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>æœ€å¥½æŠŠ State å¯¹è±¡è®¾æˆåªè¯»ã€‚ä½ æ²¡æ³•æ”¹å˜å®ƒï¼Œè¦å¾—åˆ°æ–°çš„ Stateï¼Œå”¯ä¸€åŠæ³•å°±æ˜¯ç”Ÿæˆä¸€ä¸ªæ–°å¯¹è±¡ã€‚è¿™æ ·çš„å¥½å¤„æ˜¯ï¼Œä»»ä½•æ—¶å€™ï¼Œä¸æŸä¸ª View å¯¹åº”çš„ State æ€»æ˜¯ä¸€ä¸ªä¸å˜çš„å¯¹è±¡ã€‚</p>
<h3 id="store-subscribe"><a href="#store-subscribe" class="headerlink" title="store.subscribe()"></a>store.subscribe()</h3><p>Store å…è®¸ä½¿ç”¨<code>store.subscribe</code>æ–¹æ³•è®¾ç½®ç›‘å¬å‡½æ•°ï¼Œä¸€æ—¦ State å‘ç”Ÿå˜åŒ–ï¼Œå°±è‡ªåŠ¨æ‰§è¡Œè¿™ä¸ªå‡½æ•°ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">'redux'</span>;</span><br><span class="line"><span class="keyword">const</span> store = createStore(reducer);</span><br><span class="line"></span><br><span class="line">store.subscribe(listener);</span><br></pre></td></tr></table></figure>
</blockquote>
<p>æ˜¾ç„¶ï¼Œåªè¦æŠŠ View çš„æ›´æ–°å‡½æ•°ï¼ˆå¯¹äº React é¡¹ç›®ï¼Œå°±æ˜¯ç»„ä»¶çš„<code>render</code>æ–¹æ³•æˆ–<code>setState</code>æ–¹æ³•ï¼‰æ”¾å…¥<code>listen</code>ï¼Œå°±ä¼šå®ç° View çš„è‡ªåŠ¨æ¸²æŸ“ã€‚</p>
<p><code>store.subscribe</code>æ–¹æ³•è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè°ƒç”¨è¿™ä¸ªå‡½æ•°å°±å¯ä»¥è§£é™¤ç›‘å¬ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> unsubscribe = store.subscribe(<span class="function"><span class="params">()</span> =&gt;</span></span><br><span class="line">  <span class="built_in">console</span>.log(store.getState())</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">unsubscribe();</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="Store-çš„å®ç°"><a href="#Store-çš„å®ç°" class="headerlink" title="Store çš„å®ç°"></a>Store çš„å®ç°</h2><p>ä¸Šä¸€èŠ‚ä»‹ç»äº† Redux æ¶‰åŠçš„åŸºæœ¬æ¦‚å¿µï¼Œå¯ä»¥å‘ç° Store æä¾›äº†ä¸‰ä¸ªæ–¹æ³•ã€‚</p>
<blockquote>
<ul>
<li>store.getState()</li>
<li>store.dispatch()</li>
<li>store.subscribe()</li>
</ul>
</blockquote>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">'redux'</span>;</span><br><span class="line"><span class="keyword">let</span> &#123; subscribe, dispatch, getState &#125; = createStore(reducer);</span><br></pre></td></tr></table></figure>
</blockquote>
<p><code>createStore</code>æ–¹æ³•è¿˜å¯ä»¥æ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤º State çš„æœ€åˆçŠ¶æ€ã€‚è¿™é€šå¸¸æ˜¯æœåŠ¡å™¨ç»™å‡ºçš„ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> store = createStore(todoApp, <span class="built_in">window</span>.STATE_FROM_SERVER)</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>window.STATE_FROM_SERVER</code>å°±æ˜¯æ•´ä¸ªåº”ç”¨çš„çŠ¶æ€åˆå§‹å€¼ã€‚æ³¨æ„ï¼Œå¦‚æœæä¾›äº†è¿™ä¸ªå‚æ•°ï¼Œå®ƒä¼šè¦†ç›– Reducer å‡½æ•°çš„é»˜è®¤åˆå§‹å€¼ã€‚</p>
<p>ä¸‹é¢æ˜¯<code>createStore</code>æ–¹æ³•çš„ä¸€ä¸ªç®€å•å®ç°ï¼Œå¯ä»¥äº†è§£ä¸€ä¸‹ Store æ˜¯æ€ä¹ˆç”Ÿæˆçš„ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> createStore = <span class="function">(<span class="params">reducer</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> state;</span><br><span class="line">  <span class="keyword">let</span> listeners = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> getState = <span class="function"><span class="params">()</span> =&gt;</span> state;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> dispatch = <span class="function">(<span class="params">action</span>) =&gt;</span> &#123;</span><br><span class="line">    state = reducer(state, action);</span><br><span class="line">    listeners.forEach(<span class="function"><span class="params">listener</span> =&gt;</span> listener());</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> subscribe = <span class="function">(<span class="params">listener</span>) =&gt;</span> &#123;</span><br><span class="line">    listeners.push(listener);</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      listeners = listeners.filter(<span class="function"><span class="params">l</span> =&gt;</span> l !== listener);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  dispatch(&#123;&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123; getState, dispatch, subscribe &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="Reducer-çš„æ‹†åˆ†"><a href="#Reducer-çš„æ‹†åˆ†" class="headerlink" title="Reducer çš„æ‹†åˆ†"></a>Reducer çš„æ‹†åˆ†</h2><p>Reducer å‡½æ•°è´Ÿè´£ç”Ÿæˆ Stateã€‚ç”±äºæ•´ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ª State å¯¹è±¡ï¼ŒåŒ…å«æ‰€æœ‰æ•°æ®ï¼Œå¯¹äºå¤§å‹åº”ç”¨æ¥è¯´ï¼Œè¿™ä¸ª State å¿…ç„¶ååˆ†åºå¤§ï¼Œå¯¼è‡´ Reducer å‡½æ•°ä¹Ÿååˆ†åºå¤§ã€‚</p>
<p>è¯·çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> chatReducer = <span class="function">(<span class="params">state = defaultState, action = &#123;&#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; type, payload &#125; = action;</span><br><span class="line">  <span class="keyword">switch</span> (type) &#123;</span><br><span class="line">    <span class="keyword">case</span> ADD_CHAT:</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">Object</span>.assign(&#123;&#125;, state, &#123;</span><br><span class="line">        chatLog: state.chatLog.concat(payload)</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="keyword">case</span> CHANGE_STATUS:</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">Object</span>.assign(&#123;&#125;, state, &#123;</span><br><span class="line">        statusMessage: payload</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="keyword">case</span> CHANGE_USERNAME:</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">Object</span>.assign(&#123;&#125;, state, &#123;</span><br><span class="line">        userName: payload</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="keyword">default</span>: <span class="keyword">return</span> state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œä¸‰ç§ Action åˆ†åˆ«æ”¹å˜ State çš„ä¸‰ä¸ªå±æ€§ã€‚</p>
<blockquote>
<ul>
<li>ADD_CHATï¼š<code>chatLog</code>å±æ€§</li>
<li>CHANGE_STATUSï¼š<code>statusMessage</code>å±æ€§</li>
<li>CHANGE_USERNAMEï¼š<code>userName</code>å±æ€§</li>
</ul>
</blockquote>
<p>è¿™ä¸‰ä¸ªå±æ€§ä¹‹é—´æ²¡æœ‰è”ç³»ï¼Œè¿™æç¤ºæˆ‘ä»¬å¯ä»¥æŠŠ Reducer å‡½æ•°æ‹†åˆ†ã€‚ä¸åŒçš„å‡½æ•°è´Ÿè´£å¤„ç†ä¸åŒå±æ€§ï¼Œæœ€ç»ˆæŠŠå®ƒä»¬åˆå¹¶æˆä¸€ä¸ªå¤§çš„ Reducer å³å¯ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> chatReducer = <span class="function">(<span class="params">state = defaultState, action = &#123;&#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    chatLog: chatLog(state.chatLog, action),</span><br><span class="line">    statusMessage: statusMessage(state.statusMessage, action),</span><br><span class="line">    userName: userName(state.userName, action)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼ŒReducer å‡½æ•°è¢«æ‹†æˆäº†ä¸‰ä¸ªå°å‡½æ•°ï¼Œæ¯ä¸€ä¸ªè´Ÿè´£ç”Ÿæˆå¯¹åº”çš„å±æ€§ã€‚</p>
<p>è¿™æ ·ä¸€æ‹†ï¼ŒReducer å°±æ˜“è¯»æ˜“å†™å¤šäº†ã€‚è€Œä¸”ï¼Œè¿™ç§æ‹†åˆ†ä¸ React åº”ç”¨çš„ç»“æ„ç›¸å»åˆï¼šä¸€ä¸ª React æ ¹ç»„ä»¶ç”±å¾ˆå¤šå­ç»„ä»¶æ„æˆã€‚è¿™å°±æ˜¯è¯´ï¼Œå­ç»„ä»¶ä¸å­ Reducer å®Œå…¨å¯ä»¥å¯¹åº”ã€‚</p>
<p>Redux æä¾›äº†ä¸€ä¸ª<code>combineReducers</code>æ–¹æ³•ï¼Œç”¨äº Reducer çš„æ‹†åˆ†ã€‚ä½ åªè¦å®šä¹‰å„ä¸ªå­ Reducer å‡½æ•°ï¼Œç„¶åç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå°†å®ƒä»¬åˆæˆä¸€ä¸ªå¤§çš„ Reducerã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; combineReducers &#125; <span class="keyword">from</span> <span class="string">'redux'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> chatReducer = combineReducers(&#123;</span><br><span class="line">  chatLog,</span><br><span class="line">  statusMessage,</span><br><span class="line">  userName</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> todoApp;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢çš„ä»£ç é€šè¿‡<code>combineReducers</code>æ–¹æ³•å°†ä¸‰ä¸ªå­ Reducer åˆå¹¶æˆä¸€ä¸ªå¤§çš„å‡½æ•°ã€‚</p>
<p>è¿™ç§å†™æ³•æœ‰ä¸€ä¸ªå‰æï¼Œå°±æ˜¯ State çš„å±æ€§åå¿…é¡»ä¸å­ Reducer åŒåã€‚å¦‚æœä¸åŒåï¼Œå°±è¦é‡‡ç”¨ä¸‹é¢çš„å†™æ³•ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reducer = combineReducers(&#123;</span><br><span class="line">  a: doSomethingWithA,</span><br><span class="line">  b: processB,</span><br><span class="line">  c: c</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reducer</span>(<span class="params">state = &#123;&#125;, action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    a: doSomethingWithA(state.a, action),</span><br><span class="line">    b: processB(state.b, action),</span><br><span class="line">    c: c(state.c, action)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>æ€»ä¹‹ï¼Œ<code>combineReducers()</code>åšçš„å°±æ˜¯äº§ç”Ÿä¸€ä¸ªæ•´ä½“çš„ Reducer å‡½æ•°ã€‚è¯¥å‡½æ•°æ ¹æ® State çš„ key å»æ‰§è¡Œç›¸åº”çš„å­ Reducerï¼Œå¹¶å°†è¿”å›ç»“æœåˆå¹¶æˆä¸€ä¸ªå¤§çš„ State å¯¹è±¡ã€‚</p>
<h2 id="è®¡æ•°å™¨"><a href="#è®¡æ•°å™¨" class="headerlink" title="è®¡æ•°å™¨"></a>è®¡æ•°å™¨</h2><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªæœ€ç®€å•çš„å®ä¾‹ã€‚</p>
<blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Counter = <span class="function">(<span class="params">&#123; value &#125;</span>) =&gt;</span> (</span><br><span class="line">  &lt;h1&gt;&#123;value&#125;&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const render = () =&gt; &#123;</span></span><br><span class="line"><span class="regexp">  ReactDOM.render(</span></span><br><span class="line"><span class="regexp">    &lt;Counter value=&#123;store.getState()&#125;/</span>&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">store.subscribe(render);</span><br><span class="line">render</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢æ˜¯ä¸€ä¸ªç®€å•çš„è®¡æ•°å™¨ï¼Œå”¯ä¸€çš„ä½œç”¨å°±æ˜¯æŠŠå‚æ•°<code>value</code>çš„å€¼ï¼Œæ˜¾ç¤ºåœ¨ç½‘é¡µä¸Šã€‚Store çš„ç›‘å¬å‡½æ•°è®¾ç½®ä¸º<code>render</code>ï¼Œæ¯æ¬¡ State çš„å˜åŒ–éƒ½ä¼šå¯¼è‡´ç½‘é¡µé‡æ–°æ¸²æŸ“ã€‚</p>
<p>ä¸‹é¢åŠ å…¥ä¸€ç‚¹å˜åŒ–ï¼Œä¸º<code>Counter</code>æ·»åŠ é€’å¢å’Œé€’å‡çš„ Actionã€‚</p>
<blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Counter = <span class="function">(<span class="params">&#123; value, onIncrement, onDecrement &#125;</span>) =&gt;</span> (</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">  &lt;h1&gt;&#123;value&#125;&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">  &lt;button onClick=&#123;onIncrement&#125;&gt;+&lt;/</span>button&gt;</span><br><span class="line">  &lt;button onClick=&#123;onDecrement&#125;&gt;-<span class="xml"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const reducer = (state = 0, action) =&gt; &#123;</span></span><br><span class="line"><span class="regexp">  switch (action.type) &#123;</span></span><br><span class="line"><span class="regexp">    case 'INCREMENT': return state + 1;</span></span><br><span class="line"><span class="regexp">    case 'DECREMENT': return state - 1;</span></span><br><span class="line"><span class="regexp">    default: return state;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const store = createStore(reducer);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const render = () =&gt; &#123;</span></span><br><span class="line"><span class="regexp">  ReactDOM.render(</span></span><br><span class="line"><span class="regexp">    &lt;Counter</span></span><br><span class="line"><span class="regexp">      value=&#123;store.getState()&#125;</span></span><br><span class="line"><span class="regexp">      onIncrement=&#123;() =&gt; store.dispatch(&#123;type: 'INCREMENT'&#125;)&#125;</span></span><br><span class="line"><span class="regexp">      onDecrement=&#123;() =&gt; store.dispatch(&#123;type: 'DECREMENT'&#125;)&#125;</span></span><br><span class="line"><span class="regexp">    /</span>&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">render();</span><br><span class="line">store.subscribe(render);</span><br></pre></td></tr></table></figure></blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/15/React%20Hook/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="HCLacids">
      <meta itemprop="description" content="Fighting!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HCL's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/15/React%20Hook/" class="post-title-link" itemprop="url">React Hook</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-09-15 20:19:32" itemprop="dateCreated datePublished" datetime="2020-09-15T20:19:32+08:00">2020-09-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-09-16 14:52:59" itemprop="dateModified" datetime="2020-09-16T14:52:59+08:00">2020-09-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="React-Hook"><a href="#React-Hook" class="headerlink" title="React Hook"></a>React Hook</h1><h2 id="ğŸ“Œ-State-Hook"><a href="#ğŸ“Œ-State-Hook" class="headerlink" title="ğŸ“Œ State Hook"></a>ğŸ“Œ State Hook</h2><p>â€œHookæ˜¯react 16.8çš„æ–°å¢ç‰¹æ€§ã€‚å®ƒå¯ä»¥è®©ä½ åœ¨ä¸ç¼–å†™classçš„æƒ…å†µä¸‹ä½¿ç”¨stateã€‚â€è¿™æ˜¯Reactå®˜ç½‘</p>
<p>å¯¹Hookæœ€ç›´æ¥çš„è§£é‡Šã€‚ä¸ä½¿ç”¨classè€Œæ˜¯æ™®é€šçš„å‡½æ•°å»å°è£…ç»„ä»¶æˆ–è€…é¡µé¢ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; useState &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// å£°æ˜ä¸€ä¸ªæ–°çš„å«åš â€œcountâ€ çš„ state å˜é‡</span></span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;You clicked &#123;count&#125; times&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;</span></span><br><span class="line"><span class="regexp">        Click me</span></span><br><span class="line"><span class="regexp">      &lt;/</span>button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘ä»¬å¼•å…¥å¹¶è§£æ„å‡ºuseStateæ–¹æ³•æ¥å£°æ˜ä¸€ä¸ªHookå½“ä¸­çš„stateå˜é‡ã€‚ <code>const [count, setCount] = useState(0);</code>è¿™ä¸€ä¸ªè¯­å¥ä¸­useStateçš„å”¯ä¸€å‚æ•°ä¸ºå£°æ˜çš„stateçš„åˆå§‹å€¼ï¼Œä¾‹å¦‚è¿™é‡Œçš„countä¸ºä¸€ä¸ªæ•°å­—ï¼Œå¹¶ä¸”åˆå§‹å€¼ä¸º0ã€‚setCountåˆ™åƒsetStateæ–¹æ³•ä¸€æ ·å»æ”¹å˜stateçš„å€¼ã€‚</p>
<p><strong><code>useState</code> æ–¹æ³•çš„è¿”å›å€¼æ˜¯ä»€ä¹ˆï¼Ÿ</strong> è¿”å›å€¼ä¸ºï¼šå½“å‰ state ä»¥åŠæ›´æ–° state çš„å‡½æ•°ã€‚è¿™å°±æ˜¯æˆ‘ä»¬å†™ <code>const [count, setCount] = useState()</code> çš„åŸå› ã€‚è¿™ä¸ class é‡Œé¢ <code>this.state.count</code> å’Œ <code>this.setState</code> ç±»ä¼¼ï¼Œå”¯ä¸€åŒºåˆ«å°±æ˜¯ä½ éœ€è¦æˆå¯¹çš„è·å–å®ƒä»¬ã€‚</p>
<p>ä¸‹é¢å±•ç¤ºåŒä¸€ä¸ªclasså°è£…çš„ç»„ä»¶ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>()&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="keyword">this</span>.state = &#123;</span><br><span class="line">            count: <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    click() &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;count&#125; = <span class="keyword">this</span>.state</span><br><span class="line">    	<span class="keyword">this</span>.setState(&#123;</span><br><span class="line">      		count: count + <span class="number">1</span></span><br><span class="line">    	&#125;);</span><br><span class="line">  &#125;</span><br><span class="line">   <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;You clicked &#123;<span class="keyword">this</span>.state.count&#125; times&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button onClick=&#123;this.click.bind(this)&#125;&gt;</span></span><br><span class="line"><span class="regexp">        Click me</span></span><br><span class="line"><span class="regexp">      &lt;/</span>button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  ); </span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>

<p>å¤§ä½“æ¥è¯´ä¸¤è€…å¯ä»¥å®ŒæˆåŒä¸€ä¸ªåŠŸèƒ½å°±æ˜¯è®°ä¸‹æŒ‰é’®è¢«ç‚¹å‡»çš„æ¬¡æ•°ã€‚æˆ‘ä»¬å¯ä»¥æ˜æ˜¾è§‚å¯Ÿåˆ°hookçš„ä½¿ç”¨å˜é‡çš„æ”¹å˜å’Œæ˜¾ç¤ºéƒ½æ¯”classè¦ç®€å•å¾ˆå¤šã€‚</p>
<h4 id="å£°æ˜å¤šä¸ªstateå˜é‡"><a href="#å£°æ˜å¤šä¸ªstateå˜é‡" class="headerlink" title="å£°æ˜å¤šä¸ªstateå˜é‡"></a>å£°æ˜å¤šä¸ªstateå˜é‡</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ExampleWithManyStates</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// å£°æ˜å¤šä¸ª state å˜é‡ï¼</span></span><br><span class="line">  <span class="keyword">const</span> [age, setAge] = useState(<span class="number">42</span>);</span><br><span class="line">  <span class="keyword">const</span> [fruit, setFruit] = useState(<span class="string">'banana'</span>);</span><br><span class="line">  <span class="keyword">const</span> [todos, setTodos] = useState([&#123; <span class="attr">text</span>: <span class="string">'Learn Hooks'</span> &#125;]);</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="é‚£ä¹ˆï¼Œä»€ä¹ˆæ˜¯-Hook"><a href="#é‚£ä¹ˆï¼Œä»€ä¹ˆæ˜¯-Hook" class="headerlink" title="é‚£ä¹ˆï¼Œä»€ä¹ˆæ˜¯ Hook?"></a>é‚£ä¹ˆï¼Œä»€ä¹ˆæ˜¯ Hook?</h4><p>Hook æ˜¯ä¸€äº›å¯ä»¥è®©ä½ åœ¨å‡½æ•°ç»„ä»¶é‡Œâ€œé’©å…¥â€ React state åŠç”Ÿå‘½å‘¨æœŸç­‰ç‰¹æ€§çš„å‡½æ•°ã€‚Hook ä¸èƒ½åœ¨ class ç»„ä»¶ä¸­ä½¿ç”¨ â€”â€” è¿™ä½¿å¾—ä½ ä¸ä½¿ç”¨ class ä¹Ÿèƒ½ä½¿ç”¨ Reactã€‚</p>
<p>React å†…ç½®äº†ä¸€äº›åƒ <code>useState</code> è¿™æ ·çš„ Hookã€‚ä½ ä¹Ÿå¯ä»¥åˆ›å»ºä½ è‡ªå·±çš„ Hook æ¥å¤ç”¨ä¸åŒç»„ä»¶ä¹‹é—´çš„çŠ¶æ€é€»è¾‘ã€‚æˆ‘ä»¬ä¼šå…ˆä»‹ç»è¿™äº›å†…ç½®çš„ Hookã€‚</p>
<h2 id="âš¡ï¸-Effect-Hook"><a href="#âš¡ï¸-Effect-Hook" class="headerlink" title="âš¡ï¸ Effect Hook"></a>âš¡ï¸ Effect Hook</h2><p>ä½ ä¹‹å‰å¯èƒ½å·²ç»åœ¨ React ç»„ä»¶ä¸­æ‰§è¡Œè¿‡æ•°æ®è·å–ã€è®¢é˜…æˆ–è€…æ‰‹åŠ¨ä¿®æ”¹è¿‡ DOMã€‚æˆ‘ä»¬ç»Ÿä¸€æŠŠè¿™äº›æ“ä½œç§°ä¸ºâ€œå‰¯ä½œç”¨â€ï¼Œæˆ–è€…ç®€ç§°ä¸ºâ€œä½œç”¨â€ã€‚</p>
<p><strong><code>useEffect</code> å°±æ˜¯ä¸€ä¸ª Effect Hookï¼Œç»™å‡½æ•°ç»„ä»¶å¢åŠ äº†æ“ä½œå‰¯ä½œç”¨çš„èƒ½åŠ›ã€‚å®ƒè·Ÿ class ç»„ä»¶ä¸­çš„ <code>componentDidMount</code>ã€<code>componentDidUpdate</code> å’Œ <code>componentWillUnmount</code> å…·æœ‰ç›¸åŒçš„ç”¨é€”ï¼Œåªä¸è¿‡è¢«åˆå¹¶æˆäº†ä¸€ä¸ª APIã€‚</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç›¸å½“äº componentDidMount å’Œ componentDidUpdate:</span></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨æµè§ˆå™¨çš„ API æ›´æ–°é¡µé¢æ ‡é¢˜</span></span><br><span class="line">    <span class="built_in">document</span>.title = <span class="string">`You clicked <span class="subst">$&#123;count&#125;</span> times`</span>;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;You clicked &#123;count&#125; times&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;</span></span><br><span class="line"><span class="regexp">        Click me</span></span><br><span class="line"><span class="regexp">      &lt;/</span>button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>()&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="keyword">this</span>.state = &#123;</span><br><span class="line">            count: <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    componentDidMount()&#123;</span><br><span class="line">         <span class="built_in">document</span>.title = <span class="string">`You clicked <span class="subst">$&#123;<span class="keyword">this</span>.state.count&#125;</span> times`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    componentDidUpdate()&#123;</span><br><span class="line">         <span class="built_in">document</span>.title = <span class="string">`You clicked <span class="subst">$&#123;<span class="keyword">this</span>.state.count&#125;</span> times`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    click() &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;count&#125; = <span class="keyword">this</span>.state</span><br><span class="line">    	<span class="keyword">this</span>.setState(&#123;</span><br><span class="line">      		count: count + <span class="number">1</span></span><br><span class="line">    	&#125;);</span><br><span class="line">  &#125;</span><br><span class="line">   <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;You clicked &#123;<span class="keyword">this</span>.state.count&#125; times&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button onClick=&#123;this.click.bind(this)&#125;&gt;</span></span><br><span class="line"><span class="regexp">        Click me</span></span><br><span class="line"><span class="regexp">      &lt;/</span>button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  ); </span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>

<p>å½“ä½ è°ƒç”¨ <code>useEffect</code> æ—¶ï¼Œå°±æ˜¯åœ¨å‘Šè¯‰ React åœ¨å®Œæˆå¯¹ DOM çš„æ›´æ”¹åè¿è¡Œä½ çš„â€œå‰¯ä½œç”¨â€å‡½æ•°ã€‚ç”±äºå‰¯ä½œç”¨å‡½æ•°æ˜¯åœ¨ç»„ä»¶å†…å£°æ˜çš„ï¼Œæ‰€ä»¥å®ƒä»¬å¯ä»¥è®¿é—®åˆ°ç»„ä»¶çš„ props å’Œ stateã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒReact ä¼šåœ¨æ¯æ¬¡æ¸²æŸ“åè°ƒç”¨å‰¯ä½œç”¨å‡½æ•° â€”â€” <strong>åŒ…æ‹¬</strong>ç¬¬ä¸€æ¬¡æ¸²æŸ“çš„æ—¶å€™ã€‚(useEffectä¼šåœ¨æ¯ä¸€æ¬¡é¡µé¢æ¸²æŸ“æ—¶è°ƒç”¨ã€‚)</p>
<p>å‰¯ä½œç”¨å‡½æ•°è¿˜å¯ä»¥é€šè¿‡è¿”å›ä¸€ä¸ªå‡½æ•°æ¥æŒ‡å®šå¦‚ä½•â€œæ¸…é™¤â€å‰¯ä½œç”¨ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸‹é¢çš„ç»„ä»¶ä¸­ä½¿ç”¨å‰¯ä½œç”¨å‡½æ•°æ¥è®¢é˜…å¥½å‹çš„åœ¨çº¿çŠ¶æ€ï¼Œå¹¶é€šè¿‡å–æ¶ˆè®¢é˜…æ¥è¿›è¡Œæ¸…é™¤æ“ä½œï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FriendStatus</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [isOnline, setIsOnline] = useState(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">handleStatusChange</span>(<span class="params">status</span>) </span>&#123;</span><br><span class="line">    setIsOnline(status.isOnline);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (isOnline === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Loading...'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> isOnline ? <span class="string">'Online'</span> : <span class="string">'Offline'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼ŒReact ä¼šåœ¨ç»„ä»¶é”€æ¯æ—¶å–æ¶ˆå¯¹ <code>ChatAPI</code> çš„è®¢é˜…ï¼Œç„¶ååœ¨åç»­æ¸²æŸ“æ—¶é‡æ–°æ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">....</span><br><span class="line">componentDidMount()&#123;</span><br><span class="line">    ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);</span><br><span class="line">&#125;</span><br><span class="line">componentWillUnmount()&#123;</span><br><span class="line">    ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);</span><br><span class="line">&#125;</span><br><span class="line">....</span><br></pre></td></tr></table></figure>

<h3 id="é€šè¿‡è·³è¿‡-Effect-è¿›è¡Œæ€§èƒ½ä¼˜åŒ–"><a href="#é€šè¿‡è·³è¿‡-Effect-è¿›è¡Œæ€§èƒ½ä¼˜åŒ–" class="headerlink" title="é€šè¿‡è·³è¿‡ Effect è¿›è¡Œæ€§èƒ½ä¼˜åŒ–"></a>é€šè¿‡è·³è¿‡ Effect è¿›è¡Œæ€§èƒ½ä¼˜åŒ–</h3><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ¯æ¬¡æ¸²æŸ“åéƒ½æ‰§è¡Œæ¸…ç†æˆ–è€…æ‰§è¡Œ effect å¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚åœ¨ class ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨ <code>componentDidUpdate</code> ä¸­æ·»åŠ å¯¹ <code>prevProps</code> æˆ– <code>prevState</code> çš„æ¯”è¾ƒé€»è¾‘è§£å†³ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">componentDidUpdate(prevProps, prevState) &#123;</span><br><span class="line">  <span class="keyword">if</span> (prevState.count !== <span class="keyword">this</span>.state.count) &#123;</span><br><span class="line">    <span class="built_in">document</span>.title = <span class="string">`You clicked <span class="subst">$&#123;<span class="keyword">this</span>.state.count&#125;</span> times`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯å¾ˆå¸¸è§çš„éœ€æ±‚ï¼Œæ‰€ä»¥å®ƒè¢«å†…ç½®åˆ°äº† <code>useEffect</code> çš„ Hook API ä¸­ã€‚å¦‚æœæŸäº›ç‰¹å®šå€¼åœ¨ä¸¤æ¬¡é‡æ¸²æŸ“ä¹‹é—´æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œä½ å¯ä»¥é€šçŸ¥ React <strong>è·³è¿‡</strong>å¯¹ effect çš„è°ƒç”¨ï¼Œåªè¦ä¼ é€’æ•°ç»„ä½œä¸º <code>useEffect</code> çš„ç¬¬äºŒä¸ªå¯é€‰å‚æ•°å³å¯ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">document</span>.title = <span class="string">`You clicked <span class="subst">$&#123;count&#125;</span> times`</span>;</span><br><span class="line">&#125;, [count]); <span class="comment">// ä»…åœ¨ count æ›´æ”¹æ—¶æ›´æ–°</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä¼ å…¥ <code>[count]</code> ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚è¿™ä¸ªå‚æ•°æ˜¯ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿå¦‚æœ <code>count</code> çš„å€¼æ˜¯ <code>5</code>ï¼Œè€Œä¸”æˆ‘ä»¬çš„ç»„ä»¶é‡æ¸²æŸ“çš„æ—¶å€™ <code>count</code> è¿˜æ˜¯ç­‰äº <code>5</code>ï¼ŒReact å°†å¯¹å‰ä¸€æ¬¡æ¸²æŸ“çš„ <code>[5]</code> å’Œåä¸€æ¬¡æ¸²æŸ“çš„ <code>[5]</code> è¿›è¡Œæ¯”è¾ƒã€‚å› ä¸ºæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯ç›¸ç­‰çš„(<code>5 === 5</code>)ï¼ŒReact ä¼šè·³è¿‡è¿™ä¸ª effectï¼Œè¿™å°±å®ç°äº†æ€§èƒ½çš„ä¼˜åŒ–ã€‚</p>
<p>å½“æ¸²æŸ“æ—¶ï¼Œå¦‚æœ <code>count</code> çš„å€¼æ›´æ–°æˆäº† <code>6</code>ï¼ŒReact å°†ä¼šæŠŠå‰ä¸€æ¬¡æ¸²æŸ“æ—¶çš„æ•°ç»„ <code>[5]</code> å’Œè¿™æ¬¡æ¸²æŸ“çš„æ•°ç»„ <code>[6]</code> ä¸­çš„å…ƒç´ è¿›è¡Œå¯¹æ¯”ã€‚è¿™æ¬¡å› ä¸º <code>5 !== 6</code>ï¼ŒReact å°±ä¼šå†æ¬¡è°ƒç”¨ effectã€‚å¦‚æœæ•°ç»„ä¸­æœ‰å¤šä¸ªå…ƒç´ ï¼Œå³ä½¿åªæœ‰ä¸€ä¸ªå…ƒç´ å‘ç”Ÿå˜åŒ–ï¼ŒReact ä¹Ÿä¼šæ‰§è¡Œ effectã€‚</p>
<p>å¯¹äºæœ‰æ¸…é™¤æ“ä½œçš„ effect åŒæ ·é€‚ç”¨ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">handleStatusChange</span>(<span class="params">status</span>) </span>&#123;</span><br><span class="line">    setIsOnline(status.isOnline);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;, [props.friend.id]); <span class="comment">// ä»…åœ¨ props.friend.id å‘ç”Ÿå˜åŒ–æ—¶ï¼Œé‡æ–°è®¢é˜…</span></span><br></pre></td></tr></table></figure>

<p>æœªæ¥ç‰ˆæœ¬ï¼Œå¯èƒ½ä¼šåœ¨æ„å»ºæ—¶è‡ªåŠ¨æ·»åŠ ç¬¬äºŒä¸ªå‚æ•°ã€‚</p>
<h2 id="âœŒï¸-Hook-ä½¿ç”¨è§„åˆ™"><a href="#âœŒï¸-Hook-ä½¿ç”¨è§„åˆ™" class="headerlink" title="âœŒï¸ Hook ä½¿ç”¨è§„åˆ™"></a>âœŒï¸ Hook ä½¿ç”¨è§„åˆ™</h2><p>Hook å°±æ˜¯ JavaScript å‡½æ•°ï¼Œä½†æ˜¯ä½¿ç”¨å®ƒä»¬ä¼šæœ‰ä¸¤ä¸ªé¢å¤–çš„è§„åˆ™ï¼š</p>
<ul>
<li><p>åªèƒ½åœ¨<strong>å‡½æ•°æœ€å¤–å±‚</strong>è°ƒç”¨ Hookã€‚ä¸è¦åœ¨å¾ªç¯ã€æ¡ä»¶åˆ¤æ–­æˆ–è€…å­å‡½æ•°ä¸­è°ƒç”¨ã€‚</p>
</li>
<li><p>åªèƒ½åœ¨ <strong>React çš„å‡½æ•°ç»„ä»¶</strong>ä¸­è°ƒç”¨ Hookã€‚ä¸è¦åœ¨å…¶ä»– JavaScript å‡½æ•°ä¸­è°ƒç”¨ã€‚ï¼ˆè¿˜æœ‰ä¸€ä¸ªåœ°æ–¹å¯ä»¥è°ƒç”¨ Hook â€”â€” å°±æ˜¯è‡ªå®šä¹‰çš„ Hook ä¸­ï¼Œæˆ‘ä»¬ç¨åä¼šå­¦ä¹ åˆ°ã€‚ï¼‰</p>
</li>
<li><p>React çš„å‡½æ•°ç»„ä»¶æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Example = <span class="function">(<span class="params">props</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ä½ å¯ä»¥åœ¨è¿™ä½¿ç”¨ Hook</span></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> /&gt;</span>;</span></span><br><span class="line"><span class="xml">&#125;</span></span><br></pre></td></tr></table></figure>

<p>æˆ–æ˜¯è¿™æ ·ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Example</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ä½ å¯ä»¥åœ¨è¿™ä½¿ç”¨ Hook</span></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> /&gt;</span>;</span></span><br><span class="line"><span class="xml">&#125;</span></span><br></pre></td></tr></table></figure>

<p>ä½ ä¹‹å‰å¯èƒ½æŠŠå®ƒä»¬å«åšâ€œæ— çŠ¶æ€ç»„ä»¶â€ã€‚ä½†ç°åœ¨æˆ‘ä»¬ä¸ºå®ƒä»¬å¼•å…¥äº†ä½¿ç”¨ React state çš„èƒ½åŠ›ï¼Œæ‰€ä»¥æˆ‘ä»¬æ›´å–œæ¬¢å«å®ƒâ€å‡½æ•°ç»„ä»¶â€ã€‚</p>
<p>Hook åœ¨ class å†…éƒ¨æ˜¯<strong>ä¸</strong>èµ·ä½œç”¨çš„ã€‚ä½†ä½ å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥å–ä»£ class ã€‚</p>
</li>
</ul>
<h2 id="ğŸ’¡-è‡ªå®šä¹‰-Hook"><a href="#ğŸ’¡-è‡ªå®šä¹‰-Hook" class="headerlink" title="ğŸ’¡ è‡ªå®šä¹‰ Hook"></a>ğŸ’¡ è‡ªå®šä¹‰ Hook</h2><p>å‰é¢ï¼Œæˆ‘ä»¬ä»‹ç»äº†ä¸€ä¸ªå« <code>FriendStatus</code> çš„ç»„ä»¶ï¼Œå®ƒé€šè¿‡è°ƒç”¨ <code>useState</code> å’Œ <code>useEffect</code> çš„ Hook æ¥è®¢é˜…ä¸€ä¸ªå¥½å‹çš„åœ¨çº¿çŠ¶æ€ã€‚å‡è®¾æˆ‘ä»¬æƒ³åœ¨å¦ä¸€ä¸ªç»„ä»¶é‡Œé‡ç”¨è¿™ä¸ªè®¢é˜…é€»è¾‘ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªé€»è¾‘æŠ½å–åˆ°ä¸€ä¸ªå«åš <code>useFriendStatus</code> çš„è‡ªå®šä¹‰ Hook é‡Œï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useFriendStatus</span>(<span class="params">friendID</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [isOnline, setIsOnline] = useState(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">handleStatusChange</span>(<span class="params">status</span>) </span>&#123;</span><br><span class="line">    setIsOnline(status.isOnline);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    ChatAPI.subscribeToFriendStatus(friendID, handleStatusChange);</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      ChatAPI.unsubscribeFromFriendStatus(friendID, handleStatusChange);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> isOnline;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®ƒå°† <code>friendID</code> ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›è¯¥å¥½å‹æ˜¯å¦åœ¨çº¿ï¼š</p>
<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨ä¸¤ä¸ªç»„ä»¶ä¸­ä½¿ç”¨å®ƒï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FriendStatus</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> isOnline = useFriendStatus(props.friend.id);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (isOnline === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Loading...'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> isOnline ? <span class="string">'Online'</span> : <span class="string">'Offline'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FriendListItem</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> isOnline = useFriendStatus(props.friend.id);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;li style=&#123;&#123; <span class="attr">color</span>: isOnline ? <span class="string">'green'</span> : <span class="string">'black'</span> &#125;&#125;&gt;</span><br><span class="line">      &#123;props.friend.name&#125;</span><br><span class="line">    &lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>

<p>æ¯ä¸ªç»„ä»¶é—´çš„ state æ˜¯å®Œå…¨ç‹¬ç«‹çš„ã€‚Hook æ˜¯ä¸€ç§å¤ç”¨<em>çŠ¶æ€é€»è¾‘</em>çš„æ–¹å¼ï¼Œå®ƒä¸å¤ç”¨ state æœ¬èº«ã€‚äº‹å®ä¸Š Hook çš„æ¯æ¬¡<em>è°ƒç”¨</em>éƒ½æœ‰ä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„ state â€”â€” å› æ­¤ä½ å¯ä»¥åœ¨å•ä¸ªç»„ä»¶ä¸­å¤šæ¬¡è°ƒç”¨åŒä¸€ä¸ªè‡ªå®šä¹‰ Hookã€‚</p>
<p>è‡ªå®šä¹‰ Hook æ›´åƒæ˜¯ä¸€ç§çº¦å®šè€Œä¸æ˜¯åŠŸèƒ½ã€‚å¦‚æœå‡½æ•°çš„åå­—ä»¥ â€œ<code>use</code>â€ å¼€å¤´å¹¶è°ƒç”¨å…¶ä»– Hookï¼Œæˆ‘ä»¬å°±è¯´è¿™æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰ Hookã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/30/JS%20Chapter%207/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="HCLacids">
      <meta itemprop="description" content="Fighting!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HCL's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/30/JS%20Chapter%207/" class="post-title-link" itemprop="url">JS Chapter 7</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-06-30 22:02:26" itemprop="dateCreated datePublished" datetime="2020-06-30T22:02:26+08:00">2020-06-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-10-24 23:55:27" itemprop="dateModified" datetime="2020-10-24T23:55:27+08:00">2020-10-24</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Object-orientation-with-prototypes"><a href="#Object-orientation-with-prototypes" class="headerlink" title="Object orientation with prototypes"></a>Object orientation with prototypes</h2><p>è™½ç„¶åœ¨ä¹‹åavascriptæˆ–è€…å…¶ä¸€äº›æ¡†æ¶çš„ä½¿ç”¨ä¸­ï¼ŒåŸå‹å’ŒåŸå‹é“¾çš„æ¦‚å¿µå¾ˆå°‘è¢«æåˆ°ã€‚ä½†æ˜¯åŸå‹ä½œä¸ºJavaScriptçš„åŸºæœ¬çš„é‡è¦æ¦‚å¿µä¹‹ä¸€ï¼Œä¹Ÿæ˜¯éœ€è¦è¢«æˆ‘ä»¬æŒæ¡çš„ã€‚</p>
<h3 id="åŸå‹çš„æ¦‚å¿µ"><a href="#åŸå‹çš„æ¦‚å¿µ" class="headerlink" title="åŸå‹çš„æ¦‚å¿µ"></a>åŸå‹çš„æ¦‚å¿µ</h3><p>ä¹¦ä¸Šç»™å‡ºçš„æ¦‚å¿µ A prototype is an object to which the search for a particular property can be delegated to.</p>
<p>é¦–å…ˆæœ€ç®€å•çš„ç¼©å¥ç†è§£prototypeå°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡æœ‰ä¸€äº›ç‰¹æ®Šçš„å±æ€§ã€‚</p>
<h3 id="Understanding-protototypes"><a href="#Understanding-protototypes" class="headerlink" title="Understanding protototypes"></a>Understanding protototypes</h3><p>æˆ‘ä»¬å¯ä»¥å…ˆåˆ›é€ ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡é‡Œé¢åŒ…å«ä¸€äº›å­—é¢å¯¹è±¡å¾—æ ‡è®°</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">	prop1: <span class="number">1</span>,</span><br><span class="line">	prop2: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,</span><br><span class="line">	prop3: &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥è¿›è¡Œä¸€äº›ä¿®æ”¹åˆ é™¤æ“ä½œ,ä¹Ÿå¯ä»¥æ·»åŠ ä¸€ä¸ªå®Œå…¨æ–°çš„å±æ€§ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">obj.prop1 = <span class="number">1</span>;</span><br><span class="line">obj.prop1 = [];</span><br><span class="line"><span class="keyword">delete</span> obj.prop2;</span><br><span class="line">obj.prop4 = <span class="string">"Hello"</span>;</span><br></pre></td></tr></table></figure>

<p>æœ€åobjectçš„å†…å®¹æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	prop1:[],</span><br><span class="line">	prop3:&#123;&#125;,</span><br><span class="line">	prop4:<span class="string">"Hello"</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>å½“åœ¨å¼€å‘è½¯ä»¶æ—¶ï¼Œæˆ‘ä»¬ä¼šå¸Œæœ›å‡å°‘ä»£ç çš„å†—ä½™é‡ï¼Œå°½å¯èƒ½çš„å»é‡å¤åˆ©ç”¨ä¸€äº›ä»£ç ï¼Œå…¶ä¸­æˆ‘ä»¬å¯ä»¥åˆ©ç”¨Javascriptä¸­ç»§æ‰¿çš„ç‰¹æ€§ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> yoshi = &#123;<span class="attr">skulk</span>: <span class="literal">true</span>&#125;;</span><br><span class="line"><span class="keyword">const</span> hattori = &#123;<span class="attr">sneak</span>: <span class="literal">true</span>&#125;;</span><br><span class="line"><span class="keyword">const</span> kuma = &#123;<span class="attr">creep</span>: <span class="literal">true</span>&#125;;</span><br><span class="line">assert(<span class="string">"skulk"</span> <span class="keyword">in</span> yoshi, <span class="string">"Yoshi can skulk"</span>);</span><br><span class="line">assert(!(<span class="string">"sneak"</span> <span class="keyword">in</span> yoshi), <span class="string">"Yoshi cannot sneak"</span>);</span><br><span class="line">assert(!(<span class="string">"creep"</span> <span class="keyword">in</span> yoshi), <span class="string">"Yoshi cannot creep"</span>);</span><br><span class="line"><span class="built_in">Object</span>.setPrototypeOf(yoshi, hattori);<span class="comment">//æŠŠhattoriè®¾ä¸ºyoshiçš„åŸå‹</span></span><br><span class="line">assert(<span class="string">"sneak"</span> <span class="keyword">in</span> yoshi, <span class="string">"Yoshi can now sneak"</span>);</span><br><span class="line">assert(!(<span class="string">"creep"</span> <span class="keyword">in</span> hattori), <span class="string">"Hattori cannot creep"</span>);</span><br><span class="line"><span class="built_in">Object</span>.setPrototypeOf(hattori, kuma);<span class="comment">//æŠŠkumaè®¾ä¸ºhattoriçš„åŸå‹</span></span><br><span class="line">assert(<span class="string">"creep"</span> <span class="keyword">in</span> yoshi, <span class="string">"Hattori can now creep"</span>);</span><br><span class="line">assert(<span class="string">"creep"</span> <span class="keyword">in</span> hattori, <span class="string">"Yoshi can also creep"</span>);</span><br></pre></td></tr></table></figure>

<p>ç”»ä¸€ä¸‹è¿™ä¸ªä¸€æ¡åŸå‹é“¾ã€‚[[prototype]]</p>
<h3 id="Object-construction-and-prototypes"><a href="#Object-construction-and-prototypes" class="headerlink" title="Object construction and prototypes"></a>Object construction and prototypes</h3><p>æˆ‘ä»¬é¦–å…ˆä½¿ç”¨JavaScriptå½“ä¸­çš„newå…³é”®å­—æ¥å®ŒæˆåŸå‹é“¾çš„æ„æˆ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Ninja</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	Ninja.prototype.swingSword = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> ninja1 = Ninja();</span><br><span class="line">assert(ninja1 === <span class="literal">undefined</span>,<span class="string">"No instance of Ninja created."</span>);</span><br><span class="line"><span class="keyword">const</span> ninja2 = <span class="keyword">new</span> Ninja();</span><br><span class="line">assert(ninja2 &amp;&amp; ninja2.swingSword &amp;&amp; ninja2.swingSword(),<span class="string">"Instance exists and method is callable."</span>);</span><br></pre></td></tr></table></figure>

<p>Ninjaè¿™ä¸ªå‡½æ•°å¯¹è±¡å½“ä¸­æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå‡½æ•°åœ¨ä»–çš„åŸå‹å½“ä¸­ï¼Œè¿™ä¸ªåŸå‹å¯¹è±¡å½“ä¸­æœ‰constructoræŒ‡å‘ä»–è‡ªå·±ï¼ˆNinjaï¼‰å’Œä¸€ä¸ªswingSwordå‡½æ•°ã€‚å½“æˆ‘ä»¬ä½¿ç”¨newå…³é”®å­—æ—¶ï¼Œå…¶å®ä¸€å…±æœ‰å››ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li>newäº†ä¹‹åï¼Œåœ¨å†…å­˜ä¸­ç”³è¯·ä¸€å—ç©ºé—²çš„ç©ºé—´ï¼Œå­˜å‚¨åˆ›å»ºçš„æ–°çš„å¯¹è±¡ã€‚</li>
<li>åœ¨å‡½æ•°æœ€é¡¶ç«¯æœ‰ä¸€ä¸ªç†è®ºä¸Šçš„ç©ºå¯¹è±¡å³thisï¼šæŠŠthisè®¾ç½®ä¸ºå½“å‰çš„å¯¹è±¡ã€‚</li>
<li>æ‰§è¡Œæ„é€ å‡½æ•°æŠŠthiså¯¹è±¡ä¸­çš„æ•°æ®å¡«æ»¡ï¼šè®¾ç½®å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•çš„å€¼ã€‚</li>
<li>æœ€åä¸€æ­¥æœ‰ä¸€ä¸ªéšå¼çš„return this; æŠŠthisè¿™ä¸ªå¯¹è±¡è¿”å›ã€‚</li>
</ol>
<h4 id="instance-properties"><a href="#instance-properties" class="headerlink" title="instance properties"></a>instance properties</h4><p>è¿™é‡Œæˆ‘ä»¬ç”¨thiså‚æ•°æ¥å®ŒæˆNinjaå‡½æ•°</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Ninja</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.swung = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">this</span>.swingSword = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> !<span class="keyword">this</span>.swung;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br><span class="line">Ninja.prototype.swingSword = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.swung;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> ninja = <span class="keyword">new</span> Ninja();</span><br><span class="line">assert(ninja.swingSword(), <span class="string">"Called the instance method, not the prototype method."</span>);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢æåˆ°çš„newå…³é”®å­—çš„å®é™…å››ä¸ªæ­¥éª¤ï¼Œè¿™é‡Œçš„ninjaå…¶å®å°±æ˜¯æŒ‡å‘ninjaæœ¬èº«çš„thiså¯¹è±¡ã€‚ninjaæœ¬èº«ä¼šæœ‰swungå’ŒswingSwordå±æ€§ï¼Œå’Œä»–å­˜åœ¨ä¸€ä¸ªåŸå‹æŒ‡å‘ninjaçš„åŸå‹ã€‚ninjaåŸå‹ä¹‹ä¸­ä¹Ÿä¼šæœ‰ä¸€ä¸ªswingSwordæ–¹æ³•ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨è°ƒç”¨swingSwordæ–¹æ³•å¯ä»¥çœ‹åˆ°è¿”å›çš„å€¼ä¸ºtrueè€Œä¸æ˜¯falseæœ¬èº«ï¼Œå› ä¸ºå½“æˆ‘ä»¬è°ƒç”¨swingSwordæ—¶ï¼Œninjaä¼šåœ¨å…¶æœ¬èº«å»å¯»æ‰¾æœ‰æ²¡æœ‰è¿™ä¸ªswingSwordæ–¹æ³•ï¼Œå½“swingSwordä¸å­˜åœ¨æ—¶ï¼Œæ‰å†å¼€å§‹åœ¨å…¶åŸå‹ä¸­å¯»æ‰¾å‡½æ•°ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬ä¼šåœ¨ä¸€äº›æ•°ç»„å¯¹è±¡Arrayæˆ–è€…å­—ç¬¦ä¸²å¯¹è±¡Stringä½¿ç”¨ä¸€äº›æ–¹æ³•æ—¶ï¼Œsortï¼Œmapç­‰ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰ç›´æ¥åœ¨è¿™äº›å¯¹è±¡ä¹‹ä¸­å®šä¹‰ï¼Œè€Œæ˜¯ä»–ä»¬ç»§æ‰¿äº†Arrayå’ŒStringçš„åŸå‹ï¼Œè€Œå»ä»–çš„åŸå‹å½“ä¸­å¯»æ‰¾è¿™äº›æ–¹æ³•ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Ninja.prototype = &#123;</span><br><span class="line">	pierce: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å½“æ‰§è¡Œåˆ°è¯¥å¥æ—¶ï¼ŒNinjaçš„åŸå‹ä¼šæŒ‡å‘æ–°çš„è¿™ä¸ªå¯¹è±¡åŒ…å«pierceå‡½æ•°ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Ninja</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"><span class="keyword">const</span> ninja = <span class="keyword">new</span> Ninja();</span><br><span class="line">assert(<span class="keyword">typeof</span> ninja === <span class="string">"object"</span>, <span class="string">"The type of the instance is object."</span>);</span><br><span class="line">assert(ninja <span class="keyword">instanceof</span> Ninja, <span class="string">"instanceof identifies the constructor."</span>);</span><br><span class="line">assert(ninja.constructor === Ninja, <span class="string">"The ninja object was created by the  Ninja function"</span>);</span><br></pre></td></tr></table></figure>

<p>ä»è¿™å‡ è¡Œä»£ç å¯ä»¥å¾—å‡ºninjaæ˜¯ä¸€ä¸ªçš„å¯¹è±¡ï¼Œä¹Ÿæ˜¯Ninjaå¾—ä¸€ä¸ªå®ä¾‹ï¼Œè€Œninjaçš„åŸå‹é‡Œé¢çš„constructoræŒ‡å‘çš„Ninja</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Ninja</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"><span class="keyword">const</span> ninja = <span class="keyword">new</span> Ninja();</span><br><span class="line"><span class="keyword">const</span> ninja2 = <span class="keyword">new</span> ninja.constructor();</span><br><span class="line">assert(ninja2 <span class="keyword">instanceof</span> Ninja, <span class="string">"It's a Ninja!"</span>);</span><br><span class="line">assert(ninja !== ninja2,<span class="string">"But not the same Ninja"</span>);</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬é€šè¿‡ninja.constructoræ¥æ„å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè€Œninja2ä¹Ÿæ˜¯ä¸€ä¸ªNinjaçš„å®ä¾‹ã€‚</p>
<h3 id="Achieving-inheritance"><a href="#Achieving-inheritance" class="headerlink" title="Achieving inheritance"></a>Achieving inheritance</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">Person.prototype.dance = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Ninja</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">Ninja.prototype = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="keyword">const</span> ninja = <span class="keyword">new</span> Ninja();</span><br><span class="line">assert(ninja <span class="keyword">instanceof</span> Ninja, <span class="string">"ninja receives functionality from the Ninja prototype"</span>);</span><br><span class="line">assert(ninja <span class="keyword">instanceof</span> Person, <span class="string">"...and the Person prototype"</span>);</span><br><span class="line">assert(ninja <span class="keyword">instanceof</span> <span class="built_in">Object</span>, <span class="string">"...and the Object prototype"</span>);</span><br><span class="line">assert(<span class="keyword">typeof</span> ninja.dance === <span class="string">"function"</span>,<span class="string">"..and can dance!"</span>)</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæ˜¯ä¸€ä¸ªåŸå‹é“¾çš„ç»§æ‰¿ï¼Œninjaæ˜¯Ninjaçš„å®ä¾‹ä¹Ÿæ˜¯Personçš„å®ä¾‹ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡å®ä¾‹ã€‚</p>
<h3 id="Using-JavaScript-â€œclassesâ€-in-ES6"><a href="#Using-JavaScript-â€œclassesâ€-in-ES6" class="headerlink" title="Using JavaScript â€œclassesâ€ in ES6"></a>Using JavaScript â€œclassesâ€ in ES6</h3><p>æˆ‘ä»¬å®é™…åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šç»å¸¸ä½¿ç”¨ES6ä¸­çš„æ–°ç‰¹æ€§classesã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ninja</span></span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        walk()&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">swingSword()&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ninja.prototype.swingSword = ()&#123; return true&#125;;</span></span><br><span class="line"><span class="keyword">static</span> dance()&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> ninja = <span class="keyword">new</span> Ninja(<span class="string">"Yoshi"</span>);</span><br><span class="line">assert(ninja.swingSword(),<span class="string">"and he can swing a sword"</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">	<span class="keyword">constructor</span>(name)&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	dance()&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ninja</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name,weapon)&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">        <span class="keyword">this</span>.weapon = weapon;</span><br><span class="line">    &#125;</span><br><span class="line">    wieldWeapon()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/10/JS%20Chapter%206/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="HCLacids">
      <meta itemprop="description" content="Fighting!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HCL's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/10/JS%20Chapter%206/" class="post-title-link" itemprop="url">JS Chapter 6</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-06-10 15:20:54" itemprop="dateCreated datePublished" datetime="2020-06-10T15:20:54+08:00">2020-06-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-07-11 16:40:06" itemprop="dateModified" datetime="2020-07-11T16:40:06+08:00">2020-07-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Generator"><a href="#Generator" class="headerlink" title="Generator"></a>Generator</h2><p>å…ˆçœ‹ä¸‰æ®µä»£ç </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> ninjas = syncGetJSON(<span class="string">"ninjas.json"</span>);</span><br><span class="line">    <span class="keyword">var</span> missions = syncGetJSON(ninjas[<span class="number">0</span>].missionsUrl);</span><br><span class="line">    <span class="keyword">var</span> missionDetails = syncGetJSON(mission[<span class="number">0</span>].detailsUrl);</span><br><span class="line">    <span class="comment">//Study the mission description</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">    <span class="comment">//Oh no, we weren't able to get the mission details</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">getJSON(<span class="string">"ninjas.json"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,ninjas</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(err)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"Error fetching list of ninjas"</span>,err);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    getJSON(ninjas[<span class="number">0</span>].missionsUrl,<span class="function"><span class="keyword">function</span>(<span class="params">err,missions</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err)&#123;</span><br><span class="line">        	<span class="built_in">console</span>.log(<span class="string">"Error locating ninja missions"</span>,err);</span><br><span class="line">        	<span class="keyword">return</span>;</span><br><span class="line">    	&#125;</span><br><span class="line">        getJSON(mission[<span class="number">0</span>].detailsUrl,<span class="function"><span class="keyword">function</span>(<span class="params">err,missionDetails</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(err)&#123;</span><br><span class="line">        		<span class="built_in">console</span>.log(<span class="string">"Error locating mission details"</span>,err);</span><br><span class="line">        		<span class="keyword">return</span>;</span><br><span class="line">    		&#125;</span><br><span class="line">            <span class="comment">//Study the intel plan</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span>(<span class="function"><span class="keyword">function</span>*(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">    	<span class="keyword">var</span> ninjas = syncGetJSON(<span class="string">"ninjas.json"</span>);</span><br><span class="line">    	<span class="keyword">var</span> missions = syncGetJSON(ninjas[<span class="number">0</span>].missionsUrl);</span><br><span class="line">    	<span class="keyword">var</span> missionDetails = syncGetJSON(mission[<span class="number">0</span>].detailsUrl);</span><br><span class="line">    	<span class="comment">//Study the mission description</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">    	<span class="comment">//Oh no, we weren't able to get the mission details</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€æ®µä»£ç é—®é¢˜ï¼šä»æœåŠ¡å™¨è·å¾—æ•°æ®æ˜¯ä¸€ä¸ªé•¿æœŸè¿è¡Œçš„æ“ä½œï¼Œå› ä¸º<code>JavaScript</code>æ˜¯ä¾èµ–å•çº¿ç¨‹æ¨¡å¼ï¼Œæˆ‘ä»¬ä¼šé”ä½æˆ‘ä»¬çš„<code>UI</code>ç›´åˆ°è¿™æ•´ä¸ªä»£ç è¿è¡Œç»“æŸã€‚è¿™å¯¼è‡´äº†æ— æ³•ååº”çš„åº”ç”¨å’Œä½¿ç”¨æˆ·å¤±æœ›ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">WeaponGenerator</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">yield</span> <span class="string">"Katana"</span>;</span><br><span class="line">	<span class="keyword">yield</span> <span class="string">"Wakizashi"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> weaponsIterator = WeaponGenerator();</span><br><span class="line"><span class="keyword">const</span> result1 = weaponsIterator.next();</span><br><span class="line">assert(<span class="keyword">typeof</span> result1 === <span class="string">"object"</span> &amp;&amp; result1.value === <span class="string">"katana"</span> &amp;&amp; !result1.done,<span class="string">"Katana recevied!"</span>);</span><br><span class="line"><span class="keyword">const</span> result2 = weaponsIterator.next();</span><br><span class="line">assert(<span class="keyword">typeof</span> result2 === <span class="string">"object"</span> &amp;&amp; result2.value === <span class="string">"wakizashi"</span> &amp;&amp; !result2.done,<span class="string">"wakizashi recevied!"</span>);</span><br><span class="line"><span class="keyword">const</span> result3 = weaponsIterator.next();</span><br><span class="line">assert(<span class="keyword">typeof</span> result3 === <span class="string">"object"</span> &amp;&amp; result3.value === <span class="literal">undefined</span> &amp;&amp; result3.done,<span class="string">"There are no more results!"</span>);</span><br></pre></td></tr></table></figure>

<p><code>WeaponGenerator</code>æ˜¯æ„é€ å™¨ï¼Œ<code>weaponsIterator.next()</code>ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœä¼ å…¥å€¼åˆ™<code>yield</code>è¢«æ›¿æ¢ä¸ºæ”¹å€¼ï¼Œå¯¹è±¡æœ‰ä¸¤ä¸ªå±æ€§<code>value</code>å’Œ<code>done</code>ï¼Œå½“ç¬¬ä¸‰æ¬¡è¿”å›å¯¹è±¡æ—¶<code>done</code>çš„å€¼ä¸º<code>true</code>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">WarriorGenerator</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">yield</span> <span class="string">"Katana"</span>;</span><br><span class="line">	<span class="keyword">yield</span>* NinjaGenerator();</span><br><span class="line">	<span class="keyword">yield</span> <span class="string">"Wakizashi"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">NinjaGenerator</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">"Hattori"</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">"Yoshi"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> warrior <span class="keyword">of</span> WarriorGenerator())&#123;</span><br><span class="line">    assert(warrior !== <span class="literal">null</span>, warrior);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç±»ä¼¼äºé“¾è¡¨çš„ç»“æ„ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">NinjaGenerator</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="keyword">yield</span> <span class="string">"Hattori"</span>;</span><br><span class="line">        fail(<span class="string">"The expected exception didn't occur"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span>(e)&#123;</span><br><span class="line">        assert(e === <span class="string">"Catch this!"</span>,<span class="string">"Aha! We caught an exception"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> ninjaIterator = NinjaGenrator();</span><br><span class="line"><span class="keyword">const</span> result1 = ninjaIterator().next();</span><br><span class="line">assert(result1.value === <span class="string">"Hattori"</span>, <span class="string">"We got Hattori"</span>);</span><br><span class="line">ninjaIterator.throw(<span class="string">"Catch this!"</span>);</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæ˜¯è¯´æœ‰throwè¿™ä¸ªæ–¹æ³•</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">NinjaGenerator</span>(<span class="params">action</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> imposter = <span class="keyword">yield</span> (<span class="string">"Hattori"</span> + action);</span><br><span class="line">    assert(imposter === <span class="string">"Hanzo"</span>,<span class="string">"The generator has been infiltrated"</span>);</span><br><span class="line">    <span class="keyword">yield</span> (<span class="string">"Yoshi ("</span> + imposter + <span class="string">") "</span> + action);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> ninjaIterator = NinjaGenerator(<span class="string">"skulk"</span>);</span><br><span class="line"><span class="keyword">const</span> result1 = ninjaIterator.next();</span><br><span class="line">assert(result1.value === <span class="string">"Hattori skulk"</span>, <span class="string">"Hattori is skulking"</span>);</span><br><span class="line"><span class="keyword">const</span> result2 = ninjaIterator.next(<span class="string">"Hanzo"</span>);</span><br><span class="line">assert(result2.value === <span class="string">"Yoshi (Hanzo) skulk"</span>, <span class="string">"We have an imposter!"</span>);</span><br></pre></td></tr></table></figure>



<h2 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h2><p>æ¥æ¬ä¸€ä¸ªåˆ«äººçš„åšå®¢<a href="https://www.jianshu.com/p/1b63a13c2701" target="_blank" rel="noopener">https://www.jianshu.com/p/1b63a13c2701</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/02/JS%20Chapter%205/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="HCLacids">
      <meta itemprop="description" content="Fighting!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HCL's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/02/JS%20Chapter%205/" class="post-title-link" itemprop="url">JS Chapter 5</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-06-02 16:54:20" itemprop="dateCreated datePublished" datetime="2020-06-02T16:54:20+08:00">2020-06-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-07-11 16:26:24" itemprop="dateModified" datetime="2020-07-11T16:26:24+08:00">2020-07-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Closure"><a href="#Closure" class="headerlink" title="Closure"></a>Closure</h2><h3 id="ä¸€ã€æ¦‚å¿µ"><a href="#ä¸€ã€æ¦‚å¿µ" class="headerlink" title="ä¸€ã€æ¦‚å¿µ"></a>ä¸€ã€æ¦‚å¿µ</h3><h6 id="A-closure-is-the-combination-of-a-function-and-the-lexical-environment-within-which-that-function-was-declared"><a href="#A-closure-is-the-combination-of-a-function-and-the-lexical-environment-within-which-that-function-was-declared" class="headerlink" title="A closure is the combination of a function and the lexical environment within which that function was declared."></a>A closure is the combination of a function and the lexical environment within which that function was declared.</h6><h3 id="äºŒã€Lexical-Environmentï¼ˆè¯æ³•ç¯å¢ƒï¼‰"><a href="#äºŒã€Lexical-Environmentï¼ˆè¯æ³•ç¯å¢ƒï¼‰" class="headerlink" title="äºŒã€Lexical Environmentï¼ˆè¯æ³•ç¯å¢ƒï¼‰"></a>äºŒã€Lexical Environmentï¼ˆè¯æ³•ç¯å¢ƒï¼‰</h3><p>â€‹        è¿™ä¸ªé“¾æ¥è¯¦ç»†ä»‹ç»äº†ä»€ä¹ˆæ˜¯è¯æ³•ç¯å¢ƒã€‚<a href="https://segmentfault.com/a/1190000015172796" target="_blank" rel="noopener">https://segmentfault.com/a/1190000015172796</a> </p>
<h3 id="ä¸‰ã€åŒºåˆ†çš„ä¸¤ä¸ªæ¦‚å¿µ"><a href="#ä¸‰ã€åŒºåˆ†çš„ä¸¤ä¸ªæ¦‚å¿µ" class="headerlink" title="ä¸‰ã€åŒºåˆ†çš„ä¸¤ä¸ªæ¦‚å¿µ"></a>ä¸‰ã€åŒºåˆ†çš„ä¸¤ä¸ªæ¦‚å¿µ</h3><p>â€‹        ä¸€å¼€å§‹çœ‹é—­åŒ…è¿™ä¸ªéƒ¨åˆ†çš„æ—¶å€™ä¸€ç›´æ²¡æœ‰ææ‡‚ä¸ºä»€ä¹ˆä¸èƒ½åœ¨å¤–éƒ¨å˜é‡è®¿é—®å†…éƒ¨å˜é‡çš„é—®é¢˜ï¼Œå…¶å®æ˜¯æˆ‘æŠŠä¸¤ä¸ªæ¦‚å¿µç»™ææ··äº†ã€‚</p>
<p>â€‹        ä¸ºä»€ä¹ˆä¸èƒ½è®¿é—®å†…éƒ¨å˜é‡è¿™ä¸ªé—®é¢˜å¾ˆç®€å•ï¼Œå°±æ˜¯å±€éƒ¨å˜é‡çš„ç”Ÿå­˜å‘¨æœŸä¸å‡½æ•°çš„è°ƒç”¨æ—¶ä¸€æ ·ï¼Œä¸€æ—¦å‡½æ•°è°ƒç”¨å®Œæ¯•ï¼Œè¿™äº›å±€éƒ¨å˜é‡å°±ä¸åœ¨å­˜åœ¨äº†ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> outter = <span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">let</span> inner = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â€‹        è€Œæˆ‘ä¸€å¼€å§‹å›°æƒ‘äº†å¾ˆä¹…ï¼Œå°±æ˜¯ä¸ºä»€ä¹ˆ<code>a.b</code>ï¼Œè¿™æ ·çš„å°±å¯ä»¥è®¿é—®å‘¢ï¼Ÿ é‚£æˆ‘ææ··çš„ä¸¤ä¸ªæ¦‚å¿µå°±æ˜¯<strong>å±€éƒ¨å˜é‡</strong>å’Œ<strong>å¯¹è±¡çš„å±æ€§æˆ–è€…æ–¹æ³•</strong>ã€‚</p>
<p>â€‹        å±€éƒ¨å˜é‡å°±æ˜¯ä¸Šé¢æ‰€è¯´çš„ï¼Œé‚£ä¹ˆå¯¹è±¡çš„å±æ€§æˆ–æ–¹æ³•æ¥ä¸¾ä¾‹å­ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Object</span>();<span class="comment">//aæ˜¯ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">a.b = <span class="number">2</span>;</span><br><span class="line">alert(a.b);</span><br></pre></td></tr></table></figure>

<h3 id="å››ã€å°æ¡ƒèŠ±ç©¿è¶Šæ•…äº‹"><a href="#å››ã€å°æ¡ƒèŠ±ç©¿è¶Šæ•…äº‹" class="headerlink" title="å››ã€å°æ¡ƒèŠ±ç©¿è¶Šæ•…äº‹"></a>å››ã€å°æ¡ƒèŠ±ç©¿è¶Šæ•…äº‹</h3><p>å…ˆä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">t1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="keyword">var</span> age = <span class="number">20</span>;</span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">t2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">           alert(age);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> t2;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="keyword">var</span> tmp = t1();</span><br><span class="line">tmp();<span class="comment">//----------------------------20</span></span><br></pre></td></tr></table></figure>

<p>â€‹        å¤§éƒ¨åˆ†çš„è¯­è¨€ï¼Œt1è¢«è°ƒç”¨æ‰§è¡Œï¼Œåˆ™ç”³è¯·å†…å­˜ï¼Œå¹¶æŠŠå…¶å±€éƒ¨å˜é‡age, pushå…¥æ ˆ,t1å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œå†…éƒ¨çš„å±€éƒ¨å˜é‡ï¼Œéšç€å‡½æ•°çš„é€€å‡ºè€Œé”€æ¯.å› æ­¤age = 20 çš„å±€éƒ¨å˜é‡å·²ç»æ¶ˆå¤±äº†;<br>â€‹        ä½†æ˜¯åœ¨jsä¸­ï¼Œage = 20 è¿™ä¸ªå˜é‡ï¼Œå´è¢«t2æ•æ‰ï¼Œå³ä½¿t1æ‰§è¡Œå®Œæ¯•ï¼Œé€šè¿‡t2ä»ç„¶å¯ä»¥è®¿é—®t2ä¾ç„¶å¯ä»¥è®¿é—®è¯¥å˜é‡ã€‚è¿™ä¹Ÿæ˜¯å®ç°ä¸Šé¢çš„è®¿é—®å±€éƒ¨å˜é‡ã€‚</p>
<p>â€‹        å†æ¥çœ‹ä¸€ä¸‹ï¼Œè¿™ä¸ªæƒ…å½¢çš„è¿‡ç¨‹ï¼Œå¼•å…¥jsé—­åŒ…çš„çŸ¥è¯†ç‚¹ã€‚<br>â€‹        åœ¨jsä¸­ï¼Œt1æ‰§è¡Œè¿‡ç¨‹ä¸­åˆç”Ÿæˆäº†t2ï¼Œè€Œä½œç”¨åŸŸä¸Šæ¥è¯´ï¼Œt2èƒ½è®¿é—®åˆ°age = 20ï¼Œäºæ˜¯age = 20 ä¸ä¼šæ¶ˆå¤±ï¼Œè€Œæ˜¯ä¸è¿”å›çš„t1å‡½æ•°å½¢æˆäº†ä¸€ä¸ªç¯å¢ƒåŒ…ï¼Œè¿™ä¸ªåŒ…æ˜¯t2çš„<strong>(æŠŠå…¶å‘¨å›´çš„å˜é‡ç¯å¢ƒå½¢æˆäº†å°é—­çš„ç¯å¢ƒåŒ… å…±åŒè¿”å›)</strong>ï¼Œå³ä½¿t1æ‰§è¡Œå®Œæ¯•ï¼Œé€šè¿‡t2ä»ç„¶å¯ä»¥è®¿é—®t1ä¾ç„¶å¯ä»¥è®¿é—®è¯¥å˜é‡ï¼Œè¿™å°±æ˜¯é—­åŒ…!!!<br><strong>å°æ¡ƒèŠ±ç©¿è¶Š</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">closure</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> sister = <span class="string">'å¤§æ¡ƒèŠ±'</span>;</span><br><span class="line">    <span class="keyword">var</span> me = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(sister);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> me;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">place</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> sister = <span class="string">'æ¸…æœå¤§ç¦æ™‹'</span>;</span><br><span class="line">    <span class="keyword">var</span> girl = closure();</span><br><span class="line">    girl();</span><br><span class="line">&#125;</span><br><span class="line">place();<span class="comment">//------------------------------å¤§æ¡ƒèŠ±</span></span><br></pre></td></tr></table></figure>

<h3 id="äº”ã€é—­åŒ…è®¡æ•°å™¨"><a href="#äº”ã€é—­åŒ…è®¡æ•°å™¨" class="headerlink" title="äº”ã€é—­åŒ…è®¡æ•°å™¨"></a>äº”ã€é—­åŒ…è®¡æ•°å™¨</h3><p>é—­åŒ…æ¥ç»´æŠ¤ä¸€ä¸ªåˆ«äººæ±¡æŸ“ä¸åˆ°çš„å˜é‡ åšè®¡æ•°å™¨</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fn = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++cnt;</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;)();</span><br><span class="line">alert(fn());<span class="comment">//------------------1</span></span><br><span class="line">alert(fn());<span class="comment">//------------------2</span></span><br><span class="line">alert(fn());<span class="comment">//------------------3</span></span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæ”¾ä¸€ä¸ªç»å…¸çš„æ¡ˆä¾‹å°±ä¹Ÿä¸æ¬è¿‡æ¥äº†ã€‚<a href="https://blog.csdn.net/Tacks/article/details/78704922" target="_blank" rel="noopener">https://blog.csdn.net/Tacks/article/details/78704922</a></p>
<h2 id="Stack-Heap"><a href="#Stack-Heap" class="headerlink" title="Stack Heap"></a>Stack Heap</h2><p>ä¸€å¼€å§‹äº†è§£çš„stackæ ˆå°±æ˜¯<strong>ä¸Šè¿›ä¸Šå‡º å…ˆå…¥åå‡º</strong>è¿™æ ·å­ï¼Œä¹Ÿä¸æƒ³æ¬è¿åˆ«äººåšå®¢äº†å°±æ”¾ä¸€ä¸ªé“¾æ¥<a href="https://www.jianshu.com/p/90808ed34b86" target="_blank" rel="noopener">https://www.jianshu.com/p/90808ed34b86</a></p>
<p>heapå †ä¹‹å‰äº†è§£å¹¶ä¸å¤šæ¥æ¬è¿ä¸€ä¸‹åšå®¢é“¾æ¥å§ã€‚<a href="https://blog.csdn.net/qian3223/article/details/82424757" target="_blank" rel="noopener">https://blog.csdn.net/qian3223/article/details/82424757</a></p>
<h2 id="Types-of-JavaScript-variables"><a href="#Types-of-JavaScript-variables" class="headerlink" title="Types of JavaScript variables"></a>Types of JavaScript variables</h2><p>â€‹    <code>var</code>å…³é”®å­—æ˜¯JavaScriptåˆ›é€ å¼€å§‹æ—¶çš„ä¸€éƒ¨åˆ†ï¼Œç„¶è€Œ<code>let</code>å’Œ<code>const</code>å…³é”®å­—çš„åœ¨ES6ç‰ˆæœ¬ä¸­æ›´æ–°çš„äº§ç‰©ã€‚</p>
<h3 id="å˜é‡æ˜“å˜æ€§ï¼ˆvariables-mutabilityï¼‰"><a href="#å˜é‡æ˜“å˜æ€§ï¼ˆvariables-mutabilityï¼‰" class="headerlink" title="å˜é‡æ˜“å˜æ€§ï¼ˆvariables mutabilityï¼‰"></a>å˜é‡æ˜“å˜æ€§ï¼ˆvariables mutabilityï¼‰</h3><p>â€‹    å¦‚æœæˆ‘ä»¬æŒ‰ç…§å˜é‡åŒºåˆ†ä»–ä»¬ï¼Œ<code>const</code>åˆ™ä¸å‰©ä½™çš„ä¸¤ä¸ªæœ‰å¾ˆå¤§åŒºåˆ«ã€‚æ‰€æœ‰ä»¥<code>const</code>å£°æ˜çš„å˜é‡éƒ½æ˜¯ä¸å¯æ”¹å˜çš„ã€‚é‚£ä¹ˆä»¥å‰©ä¸‹ä¸¤ä¸ªå…³é”®å­—å£°æ˜çš„å˜é‡éƒ½å¯ä»¥åå¤æ”¹å˜å¾ˆå¤šæ¬¡çš„å€¼ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> firstConst = <span class="string">"samurai"</span>;</span><br><span class="line">assert(firstConst === <span class="string">"samurai"</span>,<span class="string">"firstConst is a samruai"</span>);</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">	firstConst = <span class="string">"ninja"</span>;</span><br><span class="line">    fail(<span class="string">"Shouldn't be here"</span>);</span><br><span class="line">&#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">    pass(<span class="string">"An exception has occurred"</span>);</span><br><span class="line">&#125;</span><br><span class="line">assert(firstConst === <span class="string">"samurai"</span>,<span class="string">"firstCount is still a samuerai"</span>);</span><br><span class="line"><span class="keyword">const</span> secondConst = &#123;&#125;;</span><br><span class="line">secondConst.weapon = <span class="string">"wakizashi"</span>;</span><br><span class="line">assert(secondConst.weapon === <span class="string">"wakizashi"</span>,<span class="string">"We can add new properties"</span>);</span><br><span class="line"><span class="keyword">const</span> thirdConst = [];</span><br><span class="line">assert(thirdConst.length === <span class="number">0</span>, <span class="string">"No items in our array"</span>);</span><br><span class="line">thirdConst.push(<span class="string">"Yoshi"</span>);</span><br><span class="line">assert(thirdConst.length === <span class="number">1</span>, <span class="string">"The array has changed"</span>);</span><br></pre></td></tr></table></figure>

<p>â€‹        é¦–å…ˆï¼Œæˆ‘ä»¬å£°æ˜ä¸”åˆå§‹åŒ–äº†<code>firstConst</code>å˜é‡ä¸º<code>samurai</code>ï¼Œæˆ‘ä»¬ç»§ç»­ç»™ä»–èµ‹ä¸€ä¸ªå…¨æ–°çš„å€¼<code>ninja</code>ï¼Œå› ä¸º<code>firstConst</code>æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œæ‰€ä»¥æˆ‘ä»¬<code>ninja</code>èµ‹å€¼å¤±è´¥ã€‚æ‰€ä»¥ï¼Œ<code>JavaScript</code>çš„å¼•æ“ä¼šä¸¢å‡ºä¸€ä¸ª<code>exception</code>äº‹ä»¶ï¼Œæˆ‘ä»¬ç”¨åˆ°<code>fail</code>å’Œ<code>pass</code>æ–¹æ³•ï¼ˆè¿™ä¸¤è€…å’Œ<code>assert</code>ç±»ä¼¼ï¼‰æ¥æµ‹è¯•<code>exception</code>äº‹ä»¶æ˜¯å¦å‘ç”Ÿäº†ã€‚å¦‚æœ<code>exception</code>å‘ç”Ÿäº†ï¼Œ<code>catch</code>è¯­å¥ä¼šè¢«æ¿€æ´»ï¼Œç„¶å<code>pass</code>è¯­å¥ä¹Ÿå°±è¢«æ‰§è¡Œäº†ã€‚åä¹‹ï¼Œ<code>fail</code>è¯­å¥å°±ä¼šè¢«æ‰§è¡Œã€‚</p>
<p>â€‹        å†è€Œï¼Œæˆ‘ä»¬å£°æ˜ä¸€ä¸ªç©ºå¯¹è±¡<code>secondConst</code>å’Œç©ºæ•°ç»„<code>thirdCosnt</code>ã€‚æˆ‘ä»¬å·²ç»çŸ¥é“äº†ä¸èƒ½æ”¹å˜å¸¸é‡çš„å€¼ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ç»™å®ƒå¢æ·»å±æ€§ã€‚</p>
<h3 id="å˜é‡å£°æ˜å…³é”®å­—å’Œè¯æ³•ä½œç”¨åŸŸ"><a href="#å˜é‡å£°æ˜å…³é”®å­—å’Œè¯æ³•ä½œç”¨åŸŸ" class="headerlink" title="å˜é‡å£°æ˜å…³é”®å­—å’Œè¯æ³•ä½œç”¨åŸŸ"></a>å˜é‡å£°æ˜å…³é”®å­—å’Œè¯æ³•ä½œç”¨åŸŸ</h3><p>â€‹        ä¸åŒå…³é”®å­—å£°æ˜æœ‰ä¸åŒçš„ä½œç”¨åŸŸï¼Œè¿™ä¸€éƒ¨åˆ†æ¯”è¾ƒç®€å•ï¼Œæ€»çš„æ¥è¯´ï¼Œå°±æ˜¯<code>var</code>æ— è®ºåœ¨å“ªå„¿å£°æ˜éƒ½æ˜¯ä»¥æœ€è¿‘çš„å‡½æ•°ä½œç”¨åŸŸæˆ–è€…å…¨å±€ä½œç”¨åŸŸï¼Œè€Œ<code>const</code>å’Œ<code>let</code>å¯ä»¥ä¸ºå—ä½œç”¨åŸŸã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> local = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i++);</span><br><span class="line">    assert(i == <span class="number">10</span>,<span class="string">"i is ten"</span>);</span><br><span class="line">&#125;</span><br><span class="line">assert(<span class="keyword">typeof</span> i === <span class="string">"undefined"</span>,<span class="string">"We cannot see function variables outside of a function"</span>);</span><br></pre></td></tr></table></figure>

<h3 id="åœ¨è¯æ³•ä½œç”¨åŸŸä¸­çš„å¯„å­˜ï¼ˆçŠ¶æ€æå‡ï¼‰"><a href="#åœ¨è¯æ³•ä½œç”¨åŸŸä¸­çš„å¯„å­˜ï¼ˆçŠ¶æ€æå‡ï¼‰" class="headerlink" title="åœ¨è¯æ³•ä½œç”¨åŸŸä¸­çš„å¯„å­˜ï¼ˆçŠ¶æ€æå‡ï¼‰"></a>åœ¨è¯æ³•ä½œç”¨åŸŸä¸­çš„å¯„å­˜ï¼ˆçŠ¶æ€æå‡ï¼‰</h3><p>â€‹        åœ¨<code>JavaScript</code>ä¸­ï¼Œä»£ç çš„æ‰§è¡Œåˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µã€‚ç¬¬ä¸€é˜¶æ®µä¸º<code>JavaScript</code>å¼•æ“ä¼šæŠŠæ‰€æœ‰å£°æ˜å˜é‡å’Œå‡½æ•°å£°æ˜åœ¨å½“å‰çš„è¯æ³•ç¯å¢ƒå†…æå‰ã€‚ç¬¬äºŒé˜¶æ®µä¸ºæ‰§è¡Œé˜¶æ®µï¼Œç”±å‡½æ•°è°ƒç”¨æ‰§è¡Œæˆ–è€…èµ‹å€¼æ—¶å¼€å§‹ã€‚å…¶ä¸­ï¼Œ<code>var</code> <code>function</code> åªæ˜¯å¯¹å˜é‡å£°æ˜ï¼Œæ²¡æœ‰èµ‹å€¼æ“ä½œã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/02/Sass/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="HCLacids">
      <meta itemprop="description" content="Fighting!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HCL's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/02/Sass/" class="post-title-link" itemprop="url">Sass</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-04-02 13:26:15 / ä¿®æ”¹æ—¶é—´ï¼š14:25:38" itemprop="dateCreated datePublished" datetime="2020-04-02T13:26:15+08:00">2020-04-02</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Sasså­¦ä¹ "><a href="#Sasså­¦ä¹ " class="headerlink" title="Sasså­¦ä¹ "></a>Sasså­¦ä¹ </h1><p>â€‹        å› ä¸ºåœ¨Taroé¡¹ç›®ä¸­æœ‰ç”¨åˆ°Sassï¼Œä½†æ˜¯å½“æ—¶å¹¶æ²¡æœ‰å­¦ä¹ æ‰€ä»¥å°±åˆ†å¼€æ¥å†™ã€‚</p>
<h3 id="ä¸€ã€å®‰è£…"><a href="#ä¸€ã€å®‰è£…" class="headerlink" title="ä¸€ã€å®‰è£…"></a>ä¸€ã€å®‰è£…</h3><p>å› ä¸ºTaroé¡¹ç›®åˆå§‹åŒ–çš„æ—¶å€™ä¼šè‡ªè¡Œå®‰è£…ï¼Œåªè¦é€‰æ‹©Sasså°±è¡Œäº†ã€‚æ‰€ä»¥è¿™é‡Œç»™å‡ºå®˜æ–¹é“¾æ¥ã€‚<a href="https://sass.bootcss.com/install" target="_blank" rel="noopener">https://sass.bootcss.com/install</a></p>
<h3 id="äºŒã€å˜é‡"><a href="#äºŒã€å˜é‡" class="headerlink" title="äºŒã€å˜é‡"></a>äºŒã€å˜é‡</h3><p>å˜é‡æ˜¯å­˜å‚¨ä¿¡æ¯å¹¶åœ¨å°†æ¥é‡å¤åˆ©ç”¨çš„ä¸€ç§æ–¹å¼ï¼Œåœ¨æ•´ä¸ªæ ·å¼è¡¨ä¸­éƒ½å¯è®¿é—®ã€‚ ä½ å¯ä»¥åœ¨å˜é‡ä¸­å­˜å‚¨é¢œè‰²ã€å­—ä½“ æˆ–ä»»ä½• CSS å€¼ï¼Œå¹¶åœ¨å°†æ¥é‡å¤åˆ©ç”¨ã€‚Sass ä½¿ç”¨ <code>$</code> ç¬¦å· ä½œä¸ºå˜é‡çš„æ ‡å¿—ã€‚</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$font-stack</span>:    Helvetica, sans-serif;</span><br><span class="line"><span class="variable">$primary-color</span>: <span class="number">#333</span>;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">font</span>: <span class="number">100%</span> <span class="variable">$font-stack</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="variable">$primary-color</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">font</span>: <span class="number">100%</span> Helvetica, sans-serif;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä¸‰ã€åµŒå¥—"><a href="#ä¸‰ã€åµŒå¥—" class="headerlink" title="ä¸‰ã€åµŒå¥—"></a>ä¸‰ã€åµŒå¥—</h3><p>â€‹        åœ¨ç¼–å†™ HTML æ—¶ï¼Œå®ƒæœ‰ä¸€ä¸ªæ¸…æ™°çš„åµŒå¥—å’Œå¯è§†åŒ–å±‚æ¬¡ç»“æ„ã€‚ è€Œ CSS åˆ™æ²¡æœ‰ã€‚</p>
<p>â€‹        Sass å…è®¸åµŒå¥— CSS é€‰æ‹©å™¨ï¼ŒåµŒå¥—æ–¹å¼ ä¸ HTML çš„è§†è§‰å±‚æ¬¡ç»“æ„ç›¸åŒã€‚è¯·æ³¨æ„ï¼Œè¿‡åº¦åµŒå¥—çš„è§„åˆ™ å°†å¯¼è‡´è¿‡åº¦é™å®šçš„ CSSï¼Œè¿™äº› CSS å¯èƒ½å¾ˆéš¾ç»´æŠ¤ï¼Œå¹¶ä¸” é€šå¸¸è¢«è®¤ä¸ºæ˜¯ä¸å¥½çš„åšæ³•ã€‚</p>
<p>â€‹        ç†è§£äº†è¿™ä¸€ç‚¹ï¼Œä¸‹é¢å°±æ¥çœ‹ä¸€ä¸ªå…¸å‹çš„ç½‘ç«™å¯¼èˆªçš„æ ·å¼ ç¤ºä¾‹ï¼š</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">nav</span> &#123;</span><br><span class="line">  <span class="selector-tag">ul</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">li</span> &#123; <span class="attribute">display</span>: inline-block; &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">6px</span> <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">nav</span> <span class="selector-tag">ul</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">list-style</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">nav</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">nav</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">6px</span> <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å››ã€ç‰‡æ®µ"><a href="#å››ã€ç‰‡æ®µ" class="headerlink" title="å››ã€ç‰‡æ®µ"></a>å››ã€ç‰‡æ®µ</h3><p>åˆ›å»ºéƒ¨åˆ†Sassæ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ä¸€äº›CSSç‰‡æ®µ ï¼Œå¯ä»¥å°†å…¶åŒ…å«åœ¨å…¶ä»–Sassæ–‡ä»¶ä¸­ã€‚è¿™æ˜¯æ¨¡å—åŒ–CSSå¹¶å¸®åŠ©ä½¿äº‹æƒ…æ˜“äºç»´æŠ¤çš„å¥½æ–¹æ³•ã€‚éƒ¨åˆ†æ–‡ä»¶æ˜¯ä¸€ä¸ªSassæ–‡ä»¶ï¼Œåç§°å‰å¸¦æœ‰ä¸€ä¸ªä¸‹åˆ’çº¿ã€‚å¯ä»¥å°†å…¶å‘½åä¸º<code>_partial.scss</code>ã€‚ä¸‹åˆ’çº¿è®©SassçŸ¥é“è¯¥æ–‡ä»¶åªæ˜¯éƒ¨åˆ†æ–‡ä»¶ï¼Œä¸åº”å°†å…¶ç”Ÿæˆä¸ºCSSæ–‡ä»¶ã€‚Sasså±€éƒ¨å‡½æ•°ä¸<code>@use</code> è§„åˆ™ä¸€èµ·ä½¿ç”¨ã€‚</p>
<h3 id="äº”ã€æ¨¡å—"><a href="#äº”ã€æ¨¡å—" class="headerlink" title="äº”ã€æ¨¡å—"></a>äº”ã€æ¨¡å—</h3><p>ä¸å¿…å°†æ‰€æœ‰Sasséƒ½å†™åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚æ‚¨å¯ä»¥æ ¹æ®éœ€è¦å°†å…¶æ‹†åˆ†<code>@use</code>ã€‚è¯¥è§„åˆ™å°†å¦ä¸€ä¸ªSassæ–‡ä»¶ä½œä¸º<em>æ¨¡å—</em>åŠ è½½ï¼Œè¿™æ„å‘³ç€æ‚¨å¯ä»¥åœ¨Sassæ–‡ä»¶ä¸­ä½¿ç”¨åŸºäºæ–‡ä»¶åçš„å‘½åç©ºé—´å¼•ç”¨å…¶å˜é‡ï¼Œ<a href="https://sass-lang.com/guide#topic-6" target="_blank" rel="noopener">mixins</a>å’Œ<a href="https://sass-lang.com/documentation/at-rules/function" target="_blank" rel="noopener">å‡½æ•°</a>ã€‚ä½¿ç”¨æ–‡ä»¶è¿˜å°†åœ¨ç¼–è¯‘è¾“å‡ºä¸­åŒ…å«å®ƒç”Ÿæˆçš„CSSï¼</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// _base.scss</span></span><br><span class="line"><span class="variable">$font-stack</span>:    Helvetica, sans-serif;</span><br><span class="line"><span class="variable">$primary-color</span>: <span class="number">#333</span>;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">font</span>: <span class="number">100%</span> <span class="variable">$font-stack</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="variable">$primary-color</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// styles.scss</span></span><br><span class="line">@use <span class="string">'base'</span>;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.inverse</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: base.<span class="variable">$primary-color</span>;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">font</span>: <span class="number">100%</span> Helvetica, sans-serif;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.inverse</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#333</span>;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å…­ã€æ··åˆ"><a href="#å…­ã€æ··åˆ" class="headerlink" title="å…­ã€æ··åˆ"></a>å…­ã€æ··åˆ</h3><p>â€‹        CSSä¸­çš„æŸäº›å†…å®¹ç¼–å†™èµ·æ¥æœ‰äº›ç¹çï¼Œå°¤å…¶æ˜¯ä½¿ç”¨CSS3 å’Œå­˜åœ¨çš„è®¸å¤šä¾›åº”å•†å‰ç¼€æ—¶ã€‚ä½¿ç”¨mixinï¼Œæ‚¨å¯ä»¥åˆ›å»ºè¦åœ¨æ•´ä¸ªç«™ç‚¹ä¸­é‡å¤ä½¿ç”¨çš„CSSå£°æ˜ç»„ ã€‚æ‚¨ç”šè‡³å¯ä»¥ä¼ å…¥å€¼ä»¥ä½¿æ··å…¥æ›´åŠ çµæ´»ã€‚mixinçš„ä¸€ä¸ªå¾ˆå¥½çš„ç”¨æ³•æ˜¯ç”¨äºä¾›åº”å•†å‰ç¼€ã€‚è¿™æ˜¯çš„ç¤ºä¾‹ <code>transform</code>ã€‚</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">mixin</span> transform(<span class="variable">$property</span>) &#123;</span><br><span class="line">  -webkit-<span class="attribute">transform</span>: <span class="variable">$property</span>;</span><br><span class="line">  -ms-<span class="attribute">transform</span>: <span class="variable">$property</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="variable">$property</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &#123; @<span class="keyword">include</span> transform(rotate(<span class="number">30deg</span>)); &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(30deg);</span><br><span class="line">  <span class="attribute">-ms-transform</span>: <span class="built_in">rotate</span>(30deg);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(30deg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¦åˆ›å»ºä¸€ä¸ªmixinï¼Œè¯·ä½¿ç”¨<code>@mixin</code>æŒ‡ä»¤å¹¶ä¸ºå…¶å‘½åã€‚æˆ‘ä»¬å°†å…¶å‘½åä¸ºmixin <code>transform</code>ã€‚æˆ‘ä»¬è¿˜åœ¨<code>$property</code>æ‹¬å·å†…ä½¿ç”¨äº†å˜é‡ ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä¼ é€’ä»»ä½•æ‰€éœ€çš„å˜æ¢ã€‚åˆ›å»ºæ··å…¥ä¹‹åï¼Œæ‚¨å¯ä»¥å°†å…¶ç”¨ä½œCSS å£°æ˜<code>@include</code>ï¼Œä»¥æ··å…¥çš„åç§°å¼€å¤´ã€‚</p>
<h3 id="ä¸ƒã€æ‰©å±•ç»§æ‰¿"><a href="#ä¸ƒã€æ‰©å±•ç»§æ‰¿" class="headerlink" title="ä¸ƒã€æ‰©å±•ç»§æ‰¿"></a>ä¸ƒã€æ‰©å±•ç»§æ‰¿</h3><p>â€‹        è¿™æ˜¯Sassæœ€æœ‰ç”¨çš„åŠŸèƒ½ä¹‹ä¸€ã€‚ä½¿ç”¨<code>@extend</code>ä½¿æ‚¨å¯ä»¥å°†ä¸€ç»„CSSå±æ€§ä»ä¸€ä¸ªé€‰æ‹©å™¨å…±äº«åˆ°å¦ä¸€ä¸ªé€‰æ‹©å™¨ã€‚å®ƒæœ‰åŠ©äºä½¿Sassä¿æŒéå¸¸å¹²ç‡¥ã€‚åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æ‰©å±•ï¼Œå ä½ç¬¦ç±»ä¸€èµ·ä½¿ç”¨çš„å¦ä¸€ä¸ªåŠŸèƒ½ï¼Œä¸ºé”™è¯¯ï¼Œè­¦å‘Šå’ŒæˆåŠŸåˆ›å»ºä¸€ç³»åˆ—ç®€å•çš„æ¶ˆæ¯ä¼ é€’ã€‚å ä½ç¬¦ç±»æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»ï¼Œä»…åœ¨æ‰©å±•æ—¶æ‰æ‰“å°ï¼Œå¹¶ä¸”å¯ä»¥å¸®åŠ©ä¿æŒç¼–è¯‘åçš„CSSæ•´æ´ã€‚</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* This CSS will print because %message-shared is extended. */</span></span><br><span class="line">%message-shared &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// This CSS won't print because %equal-heights is never extended.</span></span><br><span class="line">%equal-heights &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.message</span> &#123;</span><br><span class="line">  @<span class="keyword">extend</span> %message-shared;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.success</span> &#123;</span><br><span class="line">  @<span class="keyword">extend</span> %message-shared;</span><br><span class="line">  <span class="attribute">border-color</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.error</span> &#123;</span><br><span class="line">  @<span class="keyword">extend</span> %message-shared;</span><br><span class="line">  <span class="attribute">border-color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.warning</span> &#123;</span><br><span class="line">  @<span class="keyword">extend</span> %message-shared;</span><br><span class="line">  <span class="attribute">border-color</span>: yellow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* This CSS will print because %message-shared is extended. */</span></span><br><span class="line"><span class="selector-class">.message</span>, <span class="selector-class">.success</span>, <span class="selector-class">.error</span>, <span class="selector-class">.warning</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.success</span> &#123;</span><br><span class="line">  <span class="attribute">border-color</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.error</span> &#123;</span><br><span class="line">  <span class="attribute">border-color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.warning</span> &#123;</span><br><span class="line">  <span class="attribute">border-color</span>: yellow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â€‹        ä¸Šé¢çš„ä»£ç çš„ä½œç”¨æ˜¯å‘Šè¯‰<code>.message</code>ï¼Œ<code>.success</code>ï¼Œ<code>.error</code>ï¼Œå’Œ<code>.warning</code>åšäººä¸€æ ·<code>%message-shared</code>ã€‚è¿™æ„å‘³ç€ä»»ä½•åœ°æ–¹<code>%message-shared</code>æ˜¾ç¤ºæ¥ï¼Œ<code>.message</code>ï¼Œ<code>.success</code>ï¼Œ<code>.error</code>ï¼Œå’Œ <code>.warning</code>ä¹Ÿä¼šè¿™æ ·åšçš„ã€‚é­”æœ¯å‘ç”Ÿåœ¨ç”Ÿæˆçš„CSSä¸­ï¼Œå…¶ä¸­æ¯ä¸ªç±»å°†è·å¾—ä¸ç›¸åŒçš„CSSå±æ€§<code>%message-shared</code>ã€‚è¿™æœ‰åŠ©äºæ‚¨é¿å…åœ¨HTML å…ƒç´ ä¸Šç¼–å†™å¤šä¸ªç±»åã€‚</p>
<p>â€‹        é™¤äº†Sassä¸­çš„å ä½ç¬¦ç±»ä¹‹å¤–ï¼Œæ‚¨è¿˜å¯ä»¥æ‰©å±•æœ€ç®€å•çš„CSSé€‰æ‹©å™¨ï¼Œä½†æ˜¯ä½¿ç”¨å ä½ç¬¦æ˜¯ç¡®ä¿ä¸æ‰©å±•åµŒå¥—åœ¨æ ·å¼ä¸­å…¶ä»–ä½ç½®çš„ç±»çš„æœ€ç®€å•æ–¹æ³•ï¼Œè¿™ä¼šå¯¼è‡´CSSä¸­æ„å¤–çš„é€‰æ‹©å™¨ ã€‚</p>
<p>â€‹        è¯·æ³¨æ„ï¼Œä¸ä¼šç”ŸæˆCSS in <code>%equal-heights</code>ï¼Œå› ä¸º<code>%equal-heights</code>å®ƒä¸ä¼šè¢«æ‰©å±•ã€‚</p>
<h3 id="å…«ã€æ“ä½œç¬¦"><a href="#å…«ã€æ“ä½œç¬¦" class="headerlink" title="å…«ã€æ“ä½œç¬¦"></a>å…«ã€æ“ä½œç¬¦</h3><p>â€‹        åœ¨ CSS ä¸­ç»å¸¸éœ€è¦åšæ•°å­¦è®¡ç®—ã€‚Sass æ”¯æŒä¸€äº›æ ‡å‡†çš„ æ•°å­¦è¿ç®—ç¬¦ï¼Œä¾‹å¦‚ <code>+</code>ã€<code>-</code>ã€<code>*</code>ã€<code>/</code> å’Œ <code>%</code>ã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ å°†åšä¸€äº›ç®€å•çš„æ•°å­¦è¿ç®—æ¥è®¡ç®—å‡º <code>aside</code> &amp; <code>article</code> çš„å®½åº¦ã€‚</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">article</span><span class="selector-attr">[role="main"]</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">600px</span> / <span class="number">960px</span> * <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">aside</span><span class="selector-attr">[role="complementary"]</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: right;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span> / <span class="number">960px</span> * <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/01/%E5%AD%A4%E7%8B%AC%E6%98%9F%E7%90%83--Taro%E6%A1%86%E6%9E%B6%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="HCLacids">
      <meta itemprop="description" content="Fighting!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HCL's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/01/%E5%AD%A4%E7%8B%AC%E6%98%9F%E7%90%83--Taro%E6%A1%86%E6%9E%B6%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">å­¤ç‹¬æ˜Ÿçƒ--Taroæ¡†æ¶æ€»ç»“</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-04-01 23:30:56" itemprop="dateCreated datePublished" datetime="2020-04-01T23:30:56+08:00">2020-04-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-04-02 01:02:39" itemprop="dateModified" datetime="2020-04-02T01:02:39+08:00">2020-04-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="å­¤ç‹¬æ˜Ÿçƒâ€“Taroæ¡†æ¶æ€»ç»“"><a href="#å­¤ç‹¬æ˜Ÿçƒâ€“Taroæ¡†æ¶æ€»ç»“" class="headerlink" title="å­¤ç‹¬æ˜Ÿçƒâ€“Taroæ¡†æ¶æ€»ç»“"></a>å­¤ç‹¬æ˜Ÿçƒâ€“Taroæ¡†æ¶æ€»ç»“</h1><p>â€‹        å¤§ä¸€ä¸‹å­¦æœŸç”¨Taroæ¡†æ¶å†™äº†QQçš„å°ç¨‹åºâ€“å­¤ç‹¬æ˜Ÿçƒï¼Œé¡¹ç›®é“¾æ¥åœ¨è¿™é‡Œã€‚<a href="https://github.com/The-Planet-of-Loneline/project" target="_blank" rel="noopener">https://github.com/The-Planet-of-Loneline/project</a></p>
<p>â€‹        é¡¹ç›®åˆ†ä¸ºç™½å¤©å’Œé»‘å¤œä¸¤ä¸ªéƒ¨åˆ†ï¼Œç™½å¤©æ˜¯åŒç»„çš„åˆ˜å®‰å®Œæˆçš„ï¼ŒæŠ€æœ¯å«é‡ä¹Ÿæ¯”è¾ƒé«˜ï¼›é»‘å¤œå’Œç™»å½•éƒ¨åˆ†å°±æ˜¯ç”±æˆ‘å®Œæˆçš„ã€‚æ¥ä¸‹æ¥å°±è¯´ä¸€ä¸‹Taroé‡Œé¢çš„ä¸€äº›ç»†èŠ‚ã€‚</p>
<h3 id="ä¸€ã€é¡¹ç›®ç»“æ„"><a href="#ä¸€ã€é¡¹ç›®ç»“æ„" class="headerlink" title="ä¸€ã€é¡¹ç›®ç»“æ„"></a>ä¸€ã€é¡¹ç›®ç»“æ„</h3><p>â€‹        å› ä¸ºä¸€å¼€å§‹æ²¡æœ‰å»å‚ç…§å­¦å§å­¦é•¿åšçš„å®¢æ ˆçš„æ¡†æ¶ï¼Œæ‰€ä»¥è¿™ä¸ªé¡¹ç›®çš„æ¡†æ¶æ¯”è¾ƒä¹±ï¼Œä¸€äº›ç»„ä»¶çš„é¡µé¢çš„ä½ç½®ä¹Ÿå­˜æ”¾çš„ä¸æ­£ç¡®ã€‚å¸Œæœ›ä»¥åçš„é¡¹ç›®èƒ½å¤ŸæŠŠå…¬å…±ç»„ä»¶å’Œç§æœ‰ç»„ä»¶åˆ†å¼€ï¼Œç»„ä»¶å’Œé¡µé¢åˆ†å¼€ä»¥å½¢æˆæ›´æ˜æ™°çš„ç»“æ„ã€‚ä»¥ä¸‹æ˜¯å‚ç…§æœ¨çŠ€å®¢æ ˆçš„ç»“æ„ï¼š</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="params">--src</span></span><br><span class="line">	<span class="params">--assets</span>     <span class="string">//</span>å­˜æ”¾å›¾ç‰‡</span><br><span class="line">		<span class="params">--png</span></span><br><span class="line">		<span class="params">--svg</span></span><br><span class="line">	<span class="params">--components</span> <span class="string">//</span>å­˜æ”¾ç»„ä»¶</span><br><span class="line">		<span class="params">--common</span> <span class="string">//</span>å…¬ç”¨ç»„ä»¶</span><br><span class="line">		<span class="params">--index</span>  <span class="string">//</span>ç§æœ‰ç»„ä»¶</span><br><span class="line">	<span class="params">--pages</span>      <span class="string">//</span>é¡µé¢</span><br><span class="line">		<span class="params">--index</span></span><br><span class="line">			<span class="params">--index</span>.jsx</span><br><span class="line">	<span class="params">--service</span>	<span class="string">//Fech</span> API</span><br><span class="line">		<span class="params">--Fech</span>.jsx</span><br><span class="line">	<span class="params">--app</span>.jsx	 <span class="string">//</span>é…ç½®</span><br><span class="line">	<span class="params">--app</span>.scss	 <span class="string">//</span>æ ·å¼</span><br><span class="line">	<span class="params">--index</span>.html <span class="string">//</span>æ¥å£</span><br></pre></td></tr></table></figure>

<p>ä¸€èˆ¬æ¥è¯´ä¸€ä¸ªé¡¹ç›®çš„ç»“æ„å°±å¦‚ä¸Šæ‰€ç¤ºäº†ã€‚</p>
<h3 id="äºŒã€Taroå†…ç½®ç»„ä»¶"><a href="#äºŒã€Taroå†…ç½®ç»„ä»¶" class="headerlink" title="äºŒã€Taroå†…ç½®ç»„ä»¶"></a>äºŒã€Taroå†…ç½®ç»„ä»¶</h3><p>â€‹        åˆšåˆšå¼€å§‹å†™é™æ€é¡µé¢çš„æ—¶å€™ä½¿ç”¨é”™äº†ç»„ä»¶ï¼Œè¿˜æ˜¯ç”¨çš„HTMLçš„æ ‡ç­¾<code>&lt;div&gt; &lt;span&gt;</code>ç­‰ã€‚è¦æ³¨æ„ä»¥ä¸‹ä»£ç çš„å«ä¹‰ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Taro, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'@tarojs/taro'</span></span><br><span class="line"><span class="keyword">import</span> &#123; View, Text,Image &#125; <span class="keyword">from</span> <span class="string">'@tarojs/components'</span></span><br></pre></td></tr></table></figure>

<p>â€‹        Taroé‡Œé¢æœ‰å†…ç½®çš„ç»„ä»¶ä½¿ç”¨ï¼Œ<code>&lt;View&gt; &lt;Text&gt;</code>ç­‰ç±»ä¼¼äºHTMLä¸­çš„æ ‡ç­¾ä½¿ç”¨ã€‚è¦æ³¨æ„çš„æ˜¯ï¼ŒHTMLä¸­ä½¿ç”¨çš„classé€‰æ‹©å™¨ï¼Œclasså…³é”®å­—è¦æ”¹å˜æˆclassnameï¼Œå› ä¸ºå…³é”®å­—çš„ä¿ç•™classç±»ã€‚</p>
<p>è¿™é‡Œçš„importä¹Ÿæ˜¯webpackçš„æ–¹æ³•å§ï¼Œå¼•å…¥ä½ éœ€è¦çš„ç»„ä»¶ä¾‹å¦‚é»‘å¤œçš„å¤´éƒ¨å’Œåº•éƒ¨ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Head <span class="keyword">from</span> <span class="string">'../component/Head'</span></span><br><span class="line"><span class="keyword">import</span> Footer <span class="keyword">from</span> <span class="string">'../component/Footer'</span></span><br></pre></td></tr></table></figure>

<p>ä¸€å®šè¦fromæ­£ç¡®çš„è·¯å¾„<code>&#39;../&#39;</code>æ˜¯è¿”å›ä¸Šä¸€çº§ç›®å½•ï¼Œä¹Ÿå¯ä»¥è¿”å›å¤šæ¬¡ã€‚</p>
<h3 id="ä¸‰ã€Taroä¸­çš„è¾“å…¥æ¡†"><a href="#ä¸‰ã€Taroä¸­çš„è¾“å…¥æ¡†" class="headerlink" title="ä¸‰ã€Taroä¸­çš„è¾“å…¥æ¡†"></a>ä¸‰ã€Taroä¸­çš„è¾“å…¥æ¡†</h3><p>â€‹        Taroä¸­çš„è¾“å…¥æ¡†ä¹Ÿæ˜¯Taroå½“ä¸­çš„å†…ç½®ç»„ä»¶ä¹Ÿåˆ†ä¸º<code>input</code>å’Œ<code>textarea</code>ï¼Œä½†æ˜¯è¦å¤§å†™<code>&lt;Input /&gt; &lt;Textarea /&gt;</code>ï¼Œè¿™é‡Œé¡ºä¾¿æä¸€ä¸‹Taroé‡Œé¢æ‰€æœ‰ç»„ä»¶å¼€å¤´éƒ½è¦å¤§å†™ã€‚</p>
<p>â€‹        è¾“å…¥æ¡†è¾“å…¥å€¼çš„æ—¶å€™<code>value</code>è¦ç©ºï¼Œä¸”è¿˜æœ‰ç›‘å¬äº‹ä»¶å‡½æ•°<code>onInput</code>ï¼Œ<code>onChange</code>ä¹Ÿå¯ä»¥ã€‚ä½†æ˜¯æ¯”è¾ƒå‘çš„äº‹ï¼Œ<code>onInput</code>å‡½æ•°å¯¹äº<code>Input</code>å’Œ<code>Textarea</code>ä¸åŒã€‚å½“æ—¶äº§å“ç»„ç»™æˆ‘æçš„è¦æ±‚æ˜¯æ§åˆ¶è¡Œæ•°é™åˆ¶ï¼Œè¿™é‡Œä¹Ÿè¦è¯´ä¸€ä¸‹<code>Textarea</code>çš„ç‰¹æ€§ï¼Œæœ‰æ¢è¡Œçš„ç›‘å¬å‡½æ•°ã€‚ä½†æ˜¯ç”±äº<code>onInput</code>å¯¹äº<code>Textarea</code>çš„<code>value</code>çš„æ”¹å˜ä¸èƒ½æ˜¾ç¤ºäº<code>Textarea</code>ï¼Œè€Œå¯ä»¥æ˜¾ç¤ºäº<code>Input</code>ã€‚æœ€åä¹Ÿæ˜¯éœ€æ±‚æ”¹æˆäº†å­—æ•°é™åˆ¶ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;Textarea </span><br><span class="line">className=<span class="string">'write'</span> </span><br><span class="line">value=&#123;Value&#125; </span><br><span class="line">onInput=&#123;<span class="keyword">this</span>.handleInputChange.bind(<span class="keyword">this</span>)&#125; </span><br><span class="line">onFocus=&#123;<span class="keyword">this</span>.handleInput.bind(<span class="keyword">this</span>)&#125;</span><br><span class="line">onBlur=&#123;<span class="keyword">this</span>.handleback.bind(<span class="keyword">this</span>)&#125; </span><br><span class="line">showConfirmBar=&#123;<span class="literal">false</span>&#125;</span><br><span class="line">maxlength=&#123;<span class="number">75</span>&#125;</span><br><span class="line">autoFocus=&#123;<span class="literal">true</span>&#125;</span><br><span class="line">&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Textarea</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>â€‹        ç»„ä»¶çš„å†™æ³•å¯ä»¥è¿™æ ·æ¢è¡Œä»¥æ›´é†’ç›®çš„çœ‹è§ï¼Œå¤ªé•¿ä¸æ–¹ä¾¿æŸ¥çœ‹ã€‚ä½†æ˜¯ä¸€äº›<code>View</code>å¥½åƒå°±ä¸è¡Œã€‚</p>
<h3 id="å››ã€API"><a href="#å››ã€API" class="headerlink" title="å››ã€API"></a>å››ã€API</h3><p>â€‹        å†™æ•´ä¸ªé¡¹ç›®å‰æœ€é‡è¦çš„å°±æ˜¯æ²Ÿé€šï¼Œå’Œäº§å“æ²Ÿé€šå’Œåç«¯æ²Ÿé€šã€‚æ²¡æœ‰æ²Ÿé€šå¥½çš„åæœå°±æ˜¯ç™½å¤©å¥½åƒé‡æ–°å†™é¡µé¢çš„ç»“æ„ã€‚è¿˜å¥½å› ä¸ºé»‘å¤œä¹Ÿä¸éš¾ï¼Œæ‰€ä»¥æ²¡æœ‰åšå¥½æ²Ÿé€šä¹Ÿå½±å“ä¸å¤§ã€‚å…¶ä¸­æˆ‘è§‰å¾—æ¯”è¾ƒé‡è¦çš„æ˜¯åˆ†é¡µè¿™ä¸ªéƒ¨åˆ†ã€‚å› ä¸ºè¦è€ƒè™‘åˆ°é¡µé¢çš„å®é™…éœ€æ±‚æ¥çœ‹åˆ†é¡µçš„å½¢å¼å’Œéœ€ä¸éœ€è¦åˆ†é¡µã€‚å‚è€ƒ<code>swaggerUI</code>æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„ä¸œè¥¿ï¼Œä¸€å®šè¦åå¤æ¯”å¯¹ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">onReachBottom()&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.state.history.length % <span class="number">5</span> == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">            page: <span class="keyword">this</span>.state.page + <span class="number">1</span></span><br><span class="line">        &#125;, () =&gt; &#123;</span><br><span class="line">            Fetch(<span class="string">`secret/history?page=<span class="subst">$&#123;<span class="keyword">this</span>.state.page&#125;</span>`</span>,</span><br><span class="line">                &#123;&#125;,</span><br><span class="line">                <span class="string">'GET'</span>).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">                        history: <span class="keyword">this</span>.state.history.concat(res.history)</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â€‹        è¿™é‡Œæ˜¯ä¸€ä¸ªåç«¯çš„åˆ†é¡µæ–¹æ³•ï¼Œéœ€è¦çš„äº‹æˆ‘æ¯ä¸€æ¬¡è¯·æ±‚æ—¶å‘é€ä¸€ä¸ªé¡µé¢æ•°å­—ç»™åç«¯ï¼Œä»–å†è¿”å›ç»™æˆ‘å¯¹åº”æ•°å­—çš„å†…å®¹ã€‚è¿™ç§åˆ†é¡µæ–¹æ³•ä¸ªäººæ„Ÿè§‰æ¯”è¾ƒé€‚åˆç½‘é¡µï¼Œè€Œä¸é€‚åˆå°ç¨‹åºå»å†™ã€‚æ‰€ä»¥æˆ‘åŠ äº†é™å®šæ¡ä»¶åªæœ‰æ˜¾ç¤ºå†…å®¹ä¸º5ä¸ªæ—¶å€™æ‰ä¼šè¿›è¡Œä¸‹ä¸€æ¬¡çš„è¯·æ±‚ã€‚</p>
<p>â€‹        APIçš„è·¯å¾„ä¸€å®šè¦å¯¹ï¼Œæˆ‘ä¸¾ä¾‹å›°æ‰°æˆ‘å¾ˆä¹…çš„åˆ é™¤åŠŸèƒ½ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">handleDelete()&#123;</span><br><span class="line">        Fetch(<span class="string">`secret/delete/:secret_id/?secretId=<span class="subst">$&#123;<span class="keyword">this</span>.props.Debunkid&#125;</span>`</span>,</span><br><span class="line">        &#123;&#125;,</span><br><span class="line">        <span class="string">'DELETE'</span>).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123; </span><br><span class="line">        Taro.showToast(&#123;</span><br><span class="line">            title: <span class="string">'åˆ é™¤æˆåŠŸ'</span>,</span><br><span class="line">            icon: <span class="string">'none'</span></span><br><span class="line">        &#125;)</span><br><span class="line">            <span class="keyword">this</span>.props.onCloseDelete() </span><br><span class="line">            Taro.reLaunch(&#123;</span><br><span class="line">                url:<span class="string">`/pages/Mine/Mine`</span></span><br><span class="line">            &#125;) </span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>â€‹        è¿™é‡Œå› ä¸ºæˆ‘å°‘äº†ä¸€ä¸ª<code>/</code>å¯¼è‡´æˆ‘åº”è¯¥ä¸èƒ½ä¸åç«¯è¿æ¥ï¼Œä½†æ˜¯å¼€å‘è€…å·¥å…·å¯ä»¥æˆ‘ä¹Ÿå°±æ²¡æœ‰æƒ³å¤ªå¤šã€‚ç‰¢è®°ï¼ï¼</p>
<h3 id="äº”ã€QQæˆæƒå’Œåˆ†äº«"><a href="#äº”ã€QQæˆæƒå’Œåˆ†äº«" class="headerlink" title="äº”ã€QQæˆæƒå’Œåˆ†äº«"></a>äº”ã€QQæˆæƒå’Œåˆ†äº«</h3><p>â€‹        QQæˆæƒå’Œåˆ†äº«æ˜¯è¦è¿‡å®¡æ ¸å¿…é¡»å†™çš„ä¸€ä¸ªAPIï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯äº‹åæ‰å†™çš„ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button open-type=<span class="string">'getUserInfo'</span> className=<span class="string">'login'</span> onClick=&#123;<span class="keyword">this</span>.power&#125;&gt;ç™»å½•&lt;<span class="regexp">/Button&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">power () &#123;</span><br><span class="line">        Taro.getSetting(&#123;</span><br><span class="line">            success: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">              <span class="keyword">this</span>.setState(&#123; <span class="attr">powered</span>:res.authSetting[<span class="string">'scope.userInfo'</span>]&#125;)</span><br><span class="line">              <span class="keyword">if</span> (res.authSetting[<span class="string">'scope.userInfo'</span>]) &#123;</span><br><span class="line">                  <span class="keyword">this</span>.onHandleLogin()</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Taro.showShareMenu(&#123;</span><br><span class="line">       showShareItems: [<span class="string">'qq'</span>, <span class="string">'qzone'</span>, <span class="string">'wechatFriends'</span>, <span class="string">'wechatMoment'</span>]</span><br><span class="line">   &#125;)</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€äºŒä¸ªä»£ç å—æ˜¯å¤„ç†æˆæƒçš„éƒ¨åˆ†ï¼Œç¬¬ä¸‰ä¸ªæ˜¯åˆ†äº«ã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/20/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BE%93%E5%85%A5URL%E5%90%8E%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="HCLacids">
      <meta itemprop="description" content="Fighting!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HCL's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/20/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BE%93%E5%85%A5URL%E5%90%8E%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88/" class="post-title-link" itemprop="url">æµè§ˆå™¨è¾“å…¥URLåå‘ç”Ÿäº†ä»€ä¹ˆ</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-11-20 15:15:20" itemprop="dateCreated datePublished" datetime="2019-11-20T15:15:20+08:00">2019-11-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-12-08 09:13:08" itemprop="dateModified" datetime="2019-12-08T09:13:08+08:00">2019-12-08</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>å½“æˆ‘ä»¬åœ¨æµè§ˆå™¨çš„ç½‘å€æ è¾“å…¥ç½‘å€å¹¶å›è½¦åï¼Œä¸€ä¸ªç½‘é¡µé¡µé¢å°±å‘ˆç°åœ¨æˆ‘ä»¬é¢å‰ã€‚æˆ‘ä»¬æœ‰æ²¡æœ‰æ€è€ƒè¿‡æµè§ˆå™¨æ—¶å¦‚ä½•å°†ä¸€ä¸ªå†…å®¹ä¸°å¯Œçš„é¡µé¢ç»™â€œå˜â€å‡ºæ¥çš„å‘¢ï¼Ÿ</p>
<h1 id="åŸºæœ¬æ­¥éª¤"><a href="#åŸºæœ¬æ­¥éª¤" class="headerlink" title="åŸºæœ¬æ­¥éª¤"></a>åŸºæœ¬æ­¥éª¤</h1><ol>
<li>æµè§ˆå™¨çš„åœ°å€æ è¾“å…¥URLå¹¶æŒ‰ä¸‹å›è½¦ã€‚</li>
<li>æµè§ˆå™¨æŸ¥æ‰¾å½“å‰URLæ˜¯å¦å­˜åœ¨ç¼“å­˜ï¼Œå¹¶æ¯”è¾ƒç¼“å­˜æ˜¯å¦è¿‡æœŸã€‚</li>
<li>DNSè§£æURLå¯¹åº”çš„IPã€‚</li>
<li>æ ¹æ®IPå»ºç«‹TCPï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰ã€‚</li>
<li>HTTPå‘å‡ºè¯·æ±‚ã€‚</li>
<li>æœåŠ¡å™¨å¤„ç†è¯·æ±‚ï¼Œæµè§ˆå™¨æ¥å—HTTPè¯·æ±‚ã€‚</li>
<li>æ¸²æŸ“é¡µé¢ï¼Œæ„å»ºDOMæ ‘ã€‚</li>
<li>å…³é—­TCPè¿æ¥ï¼ˆå››æ¬¡æŒ¥æ‰‹ï¼‰ã€‚</li>
</ol>
<h1 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h1><p>URLçš„æ ¼å¼</p>
<p>protocol://hostname[:port]/path/[;parameters] [?query]#fragment</p>
<ul>
<li>protocal,åè®®å¤´ï¼Œæ¯”å¦‚httpï¼Œhttpsç­‰</li>
<li>hostï¼Œä¸»æœºåŸŸåæˆ–IPåœ°å€</li>
<li>portï¼Œç«¯å£å·ä¸€èˆ¬ä¸ºé»˜è®¤æŒ‡æ‰€ä»¥éšè—èµ·æ¥</li>
<li>pathï¼Œç›®å½•è·¯å¾„</li>
<li>queryï¼ŒæŸ¥è¯¢å‚æ•°</li>
<li>fragmentï¼Œ#åhashå€¼ï¼Œä¸€èˆ¬ç”¨æ¥å®šä½åˆ°æŸä¸ªä½ç½®</li>
</ul>
<h1 id="ç¼“å­˜"><a href="#ç¼“å­˜" class="headerlink" title="ç¼“å­˜"></a>ç¼“å­˜</h1><p>æµè§ˆå™¨ä¼šå¯¹ä½ è¾“å…¥çš„ç½‘å€è¿›è¡Œåˆ¤æ–­ï¼Œæœ‰ç¼“å­˜æˆ–æ— ã€‚æœ‰ç¼“å­˜åˆ™ç›´æ¥åŠ è½½ï¼Œæ— åˆ™å‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ã€‚</p>
<h1 id="DNSåŸŸåè§£æ"><a href="#DNSåŸŸåè§£æ" class="headerlink" title="DNSåŸŸåè§£æ"></a>DNSåŸŸåè§£æ</h1><p>â€‹    æˆ‘ä»¬çŸ¥é“åœ¨åœ°å€æ è¾“å…¥çš„åŸŸåå¹¶ä¸æ˜¯æœ€åèµ„æºæ‰€åœ¨çš„çœŸå®ä½ç½®ï¼ŒåŸŸååªæ˜¯ä¸IPåœ°å€çš„ä¸€ä¸ªæ˜ å°„ã€‚ç½‘ç»œæœåŠ¡å™¨çš„IPåœ°å€é‚£ä¹ˆå¤šï¼Œæˆ‘ä»¬ä¸å¯èƒ½å»è®°ä¸€ä¸²ä¸²çš„æ•°å­—ï¼Œå› æ­¤åŸŸåå°±äº§ç”Ÿäº†ï¼Œ<strong>åŸŸåè§£æçš„è¿‡ç¨‹å®é™…æ˜¯å°†åŸŸåè¿˜åŸä¸ºIPåœ°å€çš„è¿‡ç¨‹</strong>ã€‚ é¦–å…ˆæµè§ˆå™¨å…ˆæ£€æŸ¥æœ¬åœ°hostsæ–‡ä»¶æ˜¯å¦æœ‰è¿™ä¸ªç½‘å€æ˜ å°„å…³ç³»ï¼Œå¦‚æœæœ‰å°±è°ƒç”¨è¿™ä¸ªIPåœ°å€æ˜ å°„ï¼Œå®ŒæˆåŸŸåè§£æã€‚ å¦‚æœæ²¡æ‰¾åˆ°åˆ™ä¼šæŸ¥æ‰¾æœ¬åœ°DNSè§£æå™¨ç¼“å­˜ï¼Œå¦‚æœæŸ¥æ‰¾åˆ°åˆ™è¿”å›ã€‚å¦‚æœè¿˜æ˜¯æ²¡æœ‰æ‰¾åˆ°åˆ™ä¼šæŸ¥æ‰¾æœ¬åœ°DNSæœåŠ¡å™¨ï¼Œå¦‚æœæŸ¥æ‰¾åˆ°åˆ™è¿”å›ã€‚</p>
<p><img src="https://image-static.segmentfault.com/109/829/1098299099-5a1397c093c97" alt="img"> </p>
<p>â€‹        </p>
<p><img src="https://image-static.segmentfault.com/160/418/1604181361-5a1397cca5644" alt="img"> </p>
<h1 id="TCPé“¾æ¥"><a href="#TCPé“¾æ¥" class="headerlink" title="TCPé“¾æ¥"></a>TCPé“¾æ¥</h1><p>æ‹¿åˆ°æœåŠ¡å™¨IPåœ°å€åˆ™è¿›è¡Œä¸‰æ¬¡æ¡æ‰‹çš„è¿æ¥ã€‚ </p>
<p> <img src="https://image-static.segmentfault.com/336/916/3369169780-5a1397e92a68c" alt="img"> </p>
<p>å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªå¸¦æœ‰SYNæ ‡å¿—çš„æ•°æ®åŒ…ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°åï¼Œå›ä¼ ä¸€ä¸ªå¸¦æœ‰SYN/ACKæ ‡å¿—çš„æ•°æ®åŒ…ä»¥ç¤ºä¼ è¾¾ç¡®è®¤ä¿¡æ¯ï¼Œæœ€åå®¢æˆ·ç«¯å†å›ä¼ ä¸€ä¸ªå¸¦ACKæ ‡å¿—çš„æ•°æ®åŒ…ï¼Œä»£è¡¨æ¡æ‰‹ç»“æŸï¼Œè¿æ¥æˆåŠŸã€‚ </p>
<h1 id="å‘é€HTTPè¯·æ±‚"><a href="#å‘é€HTTPè¯·æ±‚" class="headerlink" title="å‘é€HTTPè¯·æ±‚"></a>å‘é€HTTPè¯·æ±‚</h1><p> ä¸æœåŠ¡å™¨å»ºç«‹äº†è¿æ¥åï¼Œå°±å¯ä»¥å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚äº†ã€‚è¿™é‡Œæˆ‘ä»¬å…ˆçœ‹ä¸‹è¯·æ±‚æŠ¥æ–‡çš„ç»“æ„ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼š<br> <img src="https://image-static.segmentfault.com/194/760/1947600223-5a1397f9f0773" alt="img"> </p>
<p>è¯·æ±‚æŠ¥æ–‡<br>åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹æŠ¥æ–‡é¦–éƒ¨ï¼ˆä»¥googleæµè§ˆå™¨ä¸ºä¾‹ï¼‰ï¼š<br><img src="https://segmentfault.com/img/bVYTYo?w=366&h=273" alt="å›¾ç‰‡æè¿°"></p>
<p>â€‹        è¯·æ±‚è¡ŒåŒ…æ‹¬è¯·æ±‚æ–¹æ³•ã€URIã€HTTPç‰ˆæœ¬ã€‚é¦–éƒ¨å­—æ®µä¼ é€’é‡è¦ä¿¡æ¯ï¼ŒåŒ…æ‹¬è¯·æ±‚é¦–éƒ¨å­—æ®µã€é€šç”¨é¦–éƒ¨å­—æ®µå’Œå®ä½“é¦–éƒ¨å­—æ®µã€‚æˆ‘ä»¬å¯ä»¥ä»æŠ¥æ–‡ä¸­çœ‹åˆ°å‘å‡ºçš„è¯·æ±‚çš„å…·ä½“ä¿¡æ¯ã€‚</p>
<p>è¯·æ±‚æŠ¥æ–‡çš„ç®€è¦åˆ†æ</p>
<p><img src="C:%5CUsers%5C%E9%9F%A9%E6%99%A8%E9%BE%99%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20191120160027373.png" alt="image-20191120160027373"></p>
<h1 id="æœåŠ¡å™¨å¤„ç†è¯·æ±‚"><a href="#æœåŠ¡å™¨å¤„ç†è¯·æ±‚" class="headerlink" title="æœåŠ¡å™¨å¤„ç†è¯·æ±‚"></a>æœåŠ¡å™¨å¤„ç†è¯·æ±‚</h1><p>â€‹    æœåŠ¡å™¨ç«¯æ”¶åˆ°è¯·æ±‚åçš„ç”±webæœåŠ¡å™¨ï¼ˆå‡†ç¡®è¯´åº”è¯¥æ˜¯httpæœåŠ¡å™¨ï¼‰å¤„ç†è¯·æ±‚ï¼Œè¯¸å¦‚Apacheã€Ngnixã€IISç­‰ã€‚webæœåŠ¡å™¨è§£æç”¨æˆ·è¯·æ±‚ï¼ŒçŸ¥é“äº†éœ€è¦è°ƒåº¦å“ªäº›èµ„æºæ–‡ä»¶ï¼Œå†é€šè¿‡ç›¸åº”çš„è¿™äº›èµ„æºæ–‡ä»¶å¤„ç†ç”¨æˆ·è¯·æ±‚å’Œå‚æ•°ï¼Œå¹¶è°ƒç”¨æ•°æ®åº“ä¿¡æ¯ï¼Œæœ€åå°†ç»“æœé€šè¿‡webæœåŠ¡å™¨è¿”å›ç»™æµè§ˆå™¨å®¢æˆ·ç«¯ã€‚</p>
<p>  <img src="https://image-static.segmentfault.com/159/660/1596606314-5a1259320ba22" alt="img"> </p>
<h1 id="è¿”å›å“åº”ç»“æœ"><a href="#è¿”å›å“åº”ç»“æœ" class="headerlink" title="è¿”å›å“åº”ç»“æœ"></a>è¿”å›å“åº”ç»“æœ</h1><p>åœ¨HTTPé‡Œï¼Œæœ‰è¯·æ±‚å°±ä¼šæœ‰å“åº”ï¼Œå“ªæ€•æ˜¯é”™è¯¯ä¿¡æ¯ã€‚è¿™é‡Œæˆ‘ä»¬åŒæ ·çœ‹ä¸‹å“åº”æŠ¥æ–‡çš„ç»„æˆç»“æ„ï¼š </p>
<p><img src="https://image-static.segmentfault.com/915/283/915283550-5a13982ea260a" alt="img"> </p>
<p>å“åº”æŠ¥æ–‡</p>
<p>åœ¨å“åº”ç»“æœä¸­éƒ½ä¼šæœ‰ä¸ªä¸€ä¸ªHTTPçŠ¶æ€ç ï¼Œæ¯”å¦‚æˆ‘ä»¬ç†ŸçŸ¥çš„200ã€301ã€404ã€500ç­‰ã€‚é€šè¿‡è¿™ä¸ªçŠ¶æ€ç æˆ‘ä»¬å¯ä»¥çŸ¥é“æœåŠ¡å™¨ç«¯çš„å¤„ç†æ˜¯å¦æ­£å¸¸ï¼Œå¹¶èƒ½äº†è§£å…·ä½“çš„é”™è¯¯ã€‚</p>
<p>çŠ¶æ€ç ç”±3ä½æ•°å­—å’ŒåŸå› çŸ­è¯­ç»„æˆã€‚æ ¹æ®é¦–ä½æ•°å­—ï¼ŒçŠ¶æ€ç å¯ä»¥åˆ†ä¸ºäº”ç±»ï¼š</p>
<ul>
<li>1xxï¼šæŒ‡ç¤ºä¿¡æ¯â€“è¡¨ç¤ºè¯·æ±‚å·²æ¥æ”¶ï¼Œç»§ç»­å¤„ç†ã€‚</li>
<li>2xxï¼šæˆåŠŸâ€“è¡¨ç¤ºè¯·æ±‚å·²è¢«æˆåŠŸæ¥æ”¶ã€ç†è§£ã€æ¥å—ã€‚</li>
<li>3xxï¼šé‡å®šå‘â€“è¦å®Œæˆè¯·æ±‚å¿…é¡»è¿›è¡Œæ›´è¿›ä¸€æ­¥çš„æ“ä½œã€‚</li>
<li>4xxï¼šå®¢æˆ·ç«¯é”™è¯¯â€“è¯·æ±‚æœ‰è¯­æ³•é”™è¯¯æˆ–è¯·æ±‚æ— æ³•å®ç°ã€‚</li>
<li>5xxï¼šæœåŠ¡å™¨ç«¯é”™è¯¯â€“æœåŠ¡å™¨æœªèƒ½å®ç°åˆæ³•çš„è¯·æ±‚ã€‚</li>
</ul>
<h1 id="é¡µé¢æ¸²æŸ“"><a href="#é¡µé¢æ¸²æŸ“" class="headerlink" title="é¡µé¢æ¸²æŸ“"></a>é¡µé¢æ¸²æŸ“</h1><p>å‰é¢æœ‰æåˆ°httpäº¤äº’ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°±æ˜¯æµè§ˆå™¨è·å–åˆ°htmlï¼Œç„¶åè§£æï¼Œæ¸²æŸ“</p>
<ol>
<li><p>è§£æHTMLï¼Œæ„å»ºDOMæ ‘</p>
</li>
<li><p>è§£æCSSï¼Œç”ŸæˆCSSè§„åˆ™æ ‘</p>
</li>
<li><p>åˆå¹¶DOMæ ‘å’ŒCSSè§„åˆ™ï¼Œç”Ÿæˆrenderæ ‘</p>
</li>
<li><p>å¸ƒå±€renderæ ‘ï¼ˆLayout/reflowï¼‰ï¼Œè´Ÿè´£å„å…ƒç´ å°ºå¯¸ã€ä½ç½®çš„è®¡ç®—</p>
</li>
<li><p>ç»˜åˆ¶renderæ ‘ï¼ˆpaintï¼‰ï¼Œç»˜åˆ¶é¡µé¢åƒç´ ä¿¡æ¯</p>
</li>
<li><p>æµè§ˆå™¨ä¼šå°†å„å±‚çš„ä¿¡æ¯å‘é€ç»™GPUï¼ŒGPUä¼šå°†å„å±‚åˆæˆï¼ˆcompositeï¼‰ï¼Œæ˜¾ç¤ºåœ¨å±å¹•ä¸Š<br> å¦‚ä¸‹å›¾ï¼š</p>
</li>
</ol>
<p>  <img src="https://upload-images.jianshu.io/upload_images/6007177-342d73de2a8bdc2e.png" alt="img">  </p>
<p> DOM tree <img src="https://upload-images.jianshu.io/upload_images/6007177-8ec45fe7dd4d5b00.png" alt="img"> </p>
<p>CSSOM tree </p>
<p> <img src="https://upload-images.jianshu.io/upload_images/6007177-889050efeb3c811d.png" alt="img"> </p>
<p>render tree</p>
<ul>
<li>åœ¨æµè§ˆå™¨è¿˜æ²¡æ¥æ”¶åˆ°å®Œæ•´çš„ HTML æ–‡ä»¶æ—¶ï¼Œå®ƒå°±å¼€å§‹æ¸²æŸ“é¡µé¢äº†ï¼Œåœ¨é‡åˆ°å¤–éƒ¨é“¾å…¥çš„è„šæœ¬æ ‡ç­¾æˆ–æ ·å¼æ ‡ç­¾æˆ–å›¾ç‰‡æ—¶ï¼Œä¼šå†æ¬¡å‘é€ HTTP è¯·æ±‚é‡å¤ä¸Šè¿°çš„æ­¥éª¤ã€‚åœ¨æ”¶åˆ° CSS æ–‡ä»¶åä¼šå¯¹å·²ç»æ¸²æŸ“çš„é¡µé¢é‡æ–°æ¸²æŸ“ï¼ŒåŠ å…¥å®ƒä»¬åº”æœ‰çš„æ ·å¼ï¼Œå›¾ç‰‡æ–‡ä»¶åŠ è½½å®Œç«‹åˆ»æ˜¾ç¤ºåœ¨ç›¸åº”ä½ç½®ã€‚åœ¨è¿™ä¸€è¿‡ç¨‹ä¸­å¯èƒ½ä¼šè§¦å‘é¡µé¢çš„é‡ç»˜æˆ–é‡æ’ã€‚è¿™é‡Œå°±æ¶‰åŠäº†ä¸¤ä¸ªé‡è¦æ¦‚å¿µï¼šReflowå’ŒRepaintã€‚</li>
<li>Reflowï¼Œä¹Ÿç§°ä½œLayoutï¼Œä¸­æ–‡å«å›æµï¼Œä¸€èˆ¬æ„å‘³ç€å…ƒç´ çš„å†…å®¹ã€ç»“æ„ã€ä½ç½®æˆ–å°ºå¯¸å‘ç”Ÿäº†å˜åŒ–ï¼Œéœ€è¦é‡æ–°è®¡ç®—æ ·å¼å’Œæ¸²æŸ“æ ‘ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºReflowã€‚</li>
<li>Repaintï¼Œä¸­æ–‡é‡ç»˜ï¼Œæ„å‘³ç€å…ƒç´ å‘ç”Ÿçš„æ”¹å˜åªæ˜¯å½±å“äº†å…ƒç´ çš„ä¸€äº›å¤–è§‚ä¹‹ç±»çš„æ—¶å€™ï¼ˆä¾‹å¦‚ï¼ŒèƒŒæ™¯è‰²ï¼Œè¾¹æ¡†é¢œè‰²ï¼Œæ–‡å­—é¢œè‰²ç­‰ï¼‰ï¼Œæ­¤æ—¶åªéœ€è¦åº”ç”¨æ–°æ ·å¼ç»˜åˆ¶è¿™ä¸ªå…ƒç´ å°±OKäº†ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºRepaintã€‚</li>
<li>æ‰€ä»¥è¯´Reflowçš„æˆæœ¬æ¯”Repaintçš„æˆæœ¬é«˜å¾—å¤šçš„å¤šã€‚DOMæ ‘é‡Œçš„æ¯ä¸ªç»“ç‚¹éƒ½ä¼šæœ‰reflowæ–¹æ³•ï¼Œä¸€ä¸ªç»“ç‚¹çš„reflowå¾ˆæœ‰å¯èƒ½å¯¼è‡´å­ç»“ç‚¹ï¼Œç”šè‡³çˆ¶ç‚¹ä»¥åŠåŒçº§ç»“ç‚¹çš„reflowã€‚</li>
</ul>
<h1 id="å…³é—­TCPè¿æ¥æˆ–ç»§ç»­ä¿æŒè¿æ¥"><a href="#å…³é—­TCPè¿æ¥æˆ–ç»§ç»­ä¿æŒè¿æ¥" class="headerlink" title="å…³é—­TCPè¿æ¥æˆ–ç»§ç»­ä¿æŒè¿æ¥"></a>å…³é—­TCPè¿æ¥æˆ–ç»§ç»­ä¿æŒè¿æ¥</h1><p>é€šè¿‡å››æ¬¡æŒ¥æ‰‹å…³é—­è¿æ¥(FIN ACK, ACK, FIN ACK, ACK)ã€‚</p>
<p> <img src="https://image-static.segmentfault.com/419/355/4193550114-5a125931047be" alt="img"> </p>
<ul>
<li>ç¬¬ä¸€æ¬¡æŒ¥æ‰‹æ˜¯æµè§ˆå™¨å‘å®Œæ•°æ®åï¼Œå‘é€FINè¯·æ±‚æ–­å¼€è¿æ¥ã€‚</li>
<li>ç¬¬äºŒæ¬¡æŒ¥æ‰‹æ˜¯æœåŠ¡å™¨å‘é€ACKè¡¨ç¤ºåŒæ„ï¼Œå¦‚æœåœ¨è¿™ä¸€æ¬¡æœåŠ¡å™¨ä¹Ÿå‘é€FINè¯·æ±‚æ–­å¼€è¿æ¥ä¼¼ä¹ä¹Ÿæ²¡æœ‰ä¸å¦¥ï¼Œä½†è€ƒè™‘åˆ°æœåŠ¡å™¨å¯èƒ½è¿˜æœ‰æ•°æ®è¦å‘é€ï¼Œæ‰€ä»¥æœåŠ¡å™¨å‘é€FINåº”è¯¥æ”¾åœ¨ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ä¸­ã€‚</li>
<li>è¿™æ ·æµè§ˆå™¨éœ€è¦è¿”å›ACKè¡¨ç¤ºåŒæ„ï¼Œä¹Ÿå°±æ˜¯ç¬¬å››æ¬¡æŒ¥æ‰‹</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/06/%E5%AD%A6%E8%80%8C%E9%A1%B5%E9%9D%A2%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="HCLacids">
      <meta itemprop="description" content="Fighting!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HCL's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/06/%E5%AD%A6%E8%80%8C%E9%A1%B5%E9%9D%A2%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">å­¦è€Œé¡µé¢æ€»ç»“</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-11-06 14:30:16" itemprop="dateCreated datePublished" datetime="2019-11-06T14:30:16+08:00">2019-11-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-11-08 21:36:09" itemprop="dateModified" datetime="2019-11-08T21:36:09+08:00">2019-11-08</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="å…³äºHTMLå’ŒCSSçš„æ€»ç»“"><a href="#å…³äºHTMLå’ŒCSSçš„æ€»ç»“" class="headerlink" title="å…³äºHTMLå’ŒCSSçš„æ€»ç»“"></a>å…³äºHTMLå’ŒCSSçš„æ€»ç»“</h1><h6 id="åœ¨è¿™ä¸¤å‘¨æ—¶é—´ï¼Œæˆ‘å†™äº†é™æ€çš„å­¦è€Œç½‘é¡µå¹¶è¿›è¡Œäº†ä¸€äº›ä¿®æ”¹ã€‚åœ¨å­¦å§å­¦é•¿çš„å¸®åŠ©å’ŒæŒ‡å¯¼ä¹‹ä¸‹ï¼Œæˆ‘å¯¹ç½‘é¡µçš„ä¸€äº›æ•´ä½“å¸ƒå±€æœ‰æ‰€äº†è§£ï¼Œä»¥ä¸‹ä¸ºä¸€äº›è‡ªå·±åœ¨å†™å­¦è€Œæ—¶çŠ¯ä¸‹çš„é”™è¯¯ã€‚"><a href="#åœ¨è¿™ä¸¤å‘¨æ—¶é—´ï¼Œæˆ‘å†™äº†é™æ€çš„å­¦è€Œç½‘é¡µå¹¶è¿›è¡Œäº†ä¸€äº›ä¿®æ”¹ã€‚åœ¨å­¦å§å­¦é•¿çš„å¸®åŠ©å’ŒæŒ‡å¯¼ä¹‹ä¸‹ï¼Œæˆ‘å¯¹ç½‘é¡µçš„ä¸€äº›æ•´ä½“å¸ƒå±€æœ‰æ‰€äº†è§£ï¼Œä»¥ä¸‹ä¸ºä¸€äº›è‡ªå·±åœ¨å†™å­¦è€Œæ—¶çŠ¯ä¸‹çš„é”™è¯¯ã€‚" class="headerlink" title="åœ¨è¿™ä¸¤å‘¨æ—¶é—´ï¼Œæˆ‘å†™äº†é™æ€çš„å­¦è€Œç½‘é¡µå¹¶è¿›è¡Œäº†ä¸€äº›ä¿®æ”¹ã€‚åœ¨å­¦å§å­¦é•¿çš„å¸®åŠ©å’ŒæŒ‡å¯¼ä¹‹ä¸‹ï¼Œæˆ‘å¯¹ç½‘é¡µçš„ä¸€äº›æ•´ä½“å¸ƒå±€æœ‰æ‰€äº†è§£ï¼Œä»¥ä¸‹ä¸ºä¸€äº›è‡ªå·±åœ¨å†™å­¦è€Œæ—¶çŠ¯ä¸‹çš„é”™è¯¯ã€‚"></a>åœ¨è¿™ä¸¤å‘¨æ—¶é—´ï¼Œæˆ‘å†™äº†é™æ€çš„å­¦è€Œç½‘é¡µå¹¶è¿›è¡Œäº†ä¸€äº›ä¿®æ”¹ã€‚åœ¨å­¦å§å­¦é•¿çš„å¸®åŠ©å’ŒæŒ‡å¯¼ä¹‹ä¸‹ï¼Œæˆ‘å¯¹ç½‘é¡µçš„ä¸€äº›æ•´ä½“å¸ƒå±€æœ‰æ‰€äº†è§£ï¼Œä»¥ä¸‹ä¸ºä¸€äº›è‡ªå·±åœ¨å†™å­¦è€Œæ—¶çŠ¯ä¸‹çš„é”™è¯¯ã€‚</h6><h4 id="HEADER-PART"><a href="#HEADER-PART" class="headerlink" title="HEADER PART"></a>HEADER PART</h4><p>1.å¸ƒå±€æ–¹å¼ä¸è¦æ··ç”¨ï¼ˆå…¶å®é€‚ç”¨äºå¾ˆå¤šåœ°æ–¹ï¼‰ï¼Œ<code>flex</code> <code>inline-block</code> å’Œ<code>float</code>æœ€å¥½ä¸è¦æ··åˆä½¿ç”¨ã€‚</p>
<p>2.å°½é‡å‡å°‘divçš„ä½¿ç”¨ã€‚å­¦ä¼šæ€è€ƒ<code>span</code>å’Œ<code>div</code>çš„ä½¿ç”¨æƒ…å†µã€‚<code>span</code>ä½œä¸ºè¡Œå†…å…ƒç´ ï¼Œå¯ä»¥ç”¨æ¥æ ‡è®°ä¸€äº›è¡Œå†…ç‰¹æ®Šçš„å…ƒç´ ï¼›<code>div</code>ä½œä¸ºå—å…ƒç´ ï¼Œæ›´å¥½çš„åŒºåˆ†å‡ºæ¯ä¸€ä¸ªåŒºåŸŸã€‚æœ‰æ—¶å€™ä¼šç”¨å¾ˆå¤šä¸ª<code>div</code>ï¼Œå˜æˆ<code>inline-block</code>çš„æ ·å­æ˜¯å› ä¸ºåœ¨è¡Œå†…ä¸­å‡ºç°äº†ä¸åŒçš„åŠŸèƒ½åŒºã€‚</p>
<p>3.æ¶ˆé™¤é—´éš™ã€‚ç”±äºè¡Œå†…å…ƒç´ éƒ½æ˜¯æœ‰é—´éš™çš„æ‰€ä»¥ä¸€èˆ¬éœ€è¦æ¶ˆé™¤é—´éš™ï¼Œä¾‹å¦‚å›¾ç‰‡ä¸æœç´¢æ¡†ä¹‹é—´ã€‚</p>
<p>4.æœç´¢æ¡†çš„å†™æ³•ï¼Œä¸€èˆ¬æ˜¯ç”¨ä¸€ä¸ªå¤§çš„<code>div</code>æŠŠ<code>input</code>å’Œå›¾ç‰‡åŒ…è£¹èµ·æ¥ï¼Œè®¾ç½®<code>div</code>çš„<code>border</code>çš„é¢œè‰²æ¥å±•ç¤ºè¾¹æ¡†ã€‚</p>
<p>5.å®ç°<code>:hover</code>ä¹‹åï¼Œè¦ç¡®ä¿å‰åå…ƒç´ çš„å¤§å°ä¸€è‡´ï¼Œè¿™æ ·æ‰ç¾è§‚ã€‚</p>
<h4 id="MIDDLE-PART"><a href="#MIDDLE-PART" class="headerlink" title="MIDDLE PART"></a>MIDDLE PART</h4><p>1.æ•´ä½“å¸ƒå±€ï¼Œç”¨ä¸€ä¸ª<code>div</code>æ¥ä½¿å¤šä¸ªä¸­é—´éƒ¨åˆ†æ°´å¹³å±…ä¸­ã€‚</p>
<p>2.åœ¨æ•´ä¸ªé¡µé¢ä¸­æœ€å¥½åªé‡‡å–ä¸€ç§å¸ƒå±€æ–¹å¼ã€‚</p>
<p>3.<code>positionï¼šsticky</code>å¯ä»¥é€‚ç”¨äºæ›´å¤šçš„åœºåˆï¼Œä¹Ÿæ›´ç¬¦åˆå¦‚ä»Šçš„å®¡ç¾éœ€æ±‚ã€‚</p>
<p>4.<code>input</code>çš„æ ·å¼ç”¨CSSæ¥æ”¹å˜</p>
<h4 id="FOOTER-PART"><a href="#FOOTER-PART" class="headerlink" title="FOOTER PART"></a>FOOTER PART</h4><p>1.æ³¨æ„å­—ç¬¦é—´è·</p>
<p>2.<code>body</code>çš„<code>margin</code>ä¸º0æˆ–è€…<code>padding</code>ä¸º0ï¼›</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/02/%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%85%E4%B8%AD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="HCLacids">
      <meta itemprop="description" content="Fighting!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HCL's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/02/%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%85%E4%B8%AD/" class="post-title-link" itemprop="url">è‡ªé€‚åº”å±…ä¸­</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-11-02 16:35:02" itemprop="dateCreated datePublished" datetime="2019-11-02T16:35:02+08:00">2019-11-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-11-08 15:51:09" itemprop="dateModified" datetime="2019-11-08T15:51:09+08:00">2019-11-08</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="å…³äºç½‘é¡µå¸ƒå±€ä¸­çš„æ°´å¹³å‚ç›´å±…ä¸­"><a href="#å…³äºç½‘é¡µå¸ƒå±€ä¸­çš„æ°´å¹³å‚ç›´å±…ä¸­" class="headerlink" title="å…³äºç½‘é¡µå¸ƒå±€ä¸­çš„æ°´å¹³å‚ç›´å±…ä¸­"></a>å…³äºç½‘é¡µå¸ƒå±€ä¸­çš„æ°´å¹³å‚ç›´å±…ä¸­</h1><h3 id="ä¸€ã€é¦–å…ˆæ¥åˆ†äº«æœ€ç®€å•çš„flexå¸ƒå±€ä¸­å¦‚ä½•å±…ä¸­"><a href="#ä¸€ã€é¦–å…ˆæ¥åˆ†äº«æœ€ç®€å•çš„flexå¸ƒå±€ä¸­å¦‚ä½•å±…ä¸­" class="headerlink" title="ä¸€ã€é¦–å…ˆæ¥åˆ†äº«æœ€ç®€å•çš„flexå¸ƒå±€ä¸­å¦‚ä½•å±…ä¸­"></a>ä¸€ã€é¦–å…ˆæ¥åˆ†äº«æœ€ç®€å•çš„flexå¸ƒå±€ä¸­å¦‚ä½•å±…ä¸­</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;<span class="comment">/*æ°´å¹³å±…ä¸­*/</span></span><br><span class="line">    <span class="attribute">align-items</span>: center;<span class="comment">/*å‚ç›´å±…ä¸­*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â€‹        è¿™é‡ŒfatheræŒ‡çš„æ˜¯å¤«å…ƒç´ çš„ç›’å­ï¼Œå¯¹çˆ¶å…ƒç´ è¿›è¡Œè®¾ç½®<code>display: flex;</code>å…¶ä¸­çš„å­å…ƒç´ å°±ä¼šå˜æˆé¡¹ç›®ï¼Œçˆ¶å…ƒç´ æœ¬èº«å°±æˆä¸ºäº†flexå®¹å™¨ã€‚åˆ©ç”¨flexçš„ä¸€äº›ç‰¹æ€§å°±å¯ä»¥è¿›è¡Œå±…ä¸­çš„å¸ƒå±€ã€‚</p>
<p>â€‹        å…³äºæ›´è¯¦ç»†çš„flexå¸ƒå±€ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªé“¾æ¥ï¼š<a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html?utm_source=tuicool" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html?utm_source=tuicool</a></p>
<h3 id="äºŒã€â€display-inline-blockâ€ä¸­å¦‚ä½•å®ç°å±…ä¸­"><a href="#äºŒã€â€display-inline-blockâ€ä¸­å¦‚ä½•å®ç°å±…ä¸­" class="headerlink" title="äºŒã€â€display:inline-blockâ€ä¸­å¦‚ä½•å®ç°å±…ä¸­"></a>äºŒã€â€display:inline-blockâ€ä¸­å¦‚ä½•å®ç°å±…ä¸­</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span>&#123;</span><br><span class="line">    <span class="attribute">text-align</span>: center;<span class="comment">/*æ°´å¹³å±…ä¸­*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.son</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>:inline-block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â€‹        å½“blockå˜æˆinline-blockæ—¶ï¼Œå¤šä¸ªdivåœ¨ä¸€ä¸ªçˆ¶å…ƒç´ çš„å®¹å™¨ä¸­ï¼Œ<code>margin: 0 autoï¼›</code>å°±ä¸å†æœ‰ä½œç”¨ã€‚ç›®å‰æˆ‘æ‰¾åˆ°çš„æ–¹æ³•åªæœ‰åœ¨çˆ¶å…ƒç´ ä¸­è®¾ç½®<code>text-align: center;</code>ä½¿è¿™äº›divå±…ä¸­ã€‚ç™¾åº¦ä¸­è¿™ä¹ˆè§£é‡Šåˆ°ï¼Œâ€œæˆ‘ä»¬çš„è¡Œå†…å…ƒç´ å°±ç›¸å½“äºä¸€è¡Œä¹‹å†…çš„æ–‡å­—äº†â€ï¼Œæˆ‘ä¹Ÿåªèƒ½è¿™ä¹ˆç†è§£äº†ã€‚å¯¹äºdivä¸­çš„æ–‡å­—ï¼Œæˆ‘ä»¬åªèƒ½å†ä½¿ç”¨<code>text-align: startï¼›</code>ä¹‹ç±»çš„å±æ€§æ¥ä½¿æ–‡å­—æ’ç‰ˆæ›´ç†æƒ³åŒ–ã€‚</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:auto;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.father</span><span class="selector-pseudo">:after</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>:inline-block;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">""</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.son</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>:inline-block;</span><br><span class="line">    <span class="attribute">vertical-align</span>: middle;<span class="comment">/*å‚ç›´å±…ä¸­*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â€‹        è¿™ä¸€ä¸²cssä»£ç æ˜¯ç”¨æ¥inline-blockå½“ä¸­çš„å‚ç›´å±…ä¸­é—®é¢˜ï¼Œå¯ä»¥ç”¨äºheadå½“ä¸­ï¼Œå› ä¸ºå¤§å¤šæ—¶å€™headå®šå®½ï¼Œç”¨ä¸€ä¸ªä¼ªå…ƒç´ è®¾ç½®å…¶é«˜åº¦ä¸º100%æ—¶ï¼Œå°†çˆ¶å…ƒç´ æ’‘å¼€ï¼Œå­å…ƒç´ å°±å‚ç›´å±…ä¸­å•¦ï¼ä¹Ÿé€‚ç”¨äºå¤šè¡Œæ–‡å­—ï¼</p>
<h6 id="å½“ç„¶å¦‚æœheadä¹‹ä¸­åªæœ‰ä¸€è¡Œæ–‡å­—ï¼Œåœ¨çˆ¶å…ƒç´ ä¸­è®¾ç½®heightä¸line-heightç›¸ç­‰æ—¶ï¼Œä¹Ÿå¯ä»¥å‚ç›´å±…ä¸­ï¼Œåªæ˜¯ä¼šå‡ºç°ä¸€äº›å°é—®é¢˜ã€‚æ¯”å¦‚åªæ˜¯æ–‡å­—å±…ä¸­è€Œdivæ²¡æœ‰å±…ä¸­ã€‚ï¼ˆå¦‚æœdivé«˜å’Œheadé«˜ä¸ç›¸ç­‰ï¼‰"><a href="#å½“ç„¶å¦‚æœheadä¹‹ä¸­åªæœ‰ä¸€è¡Œæ–‡å­—ï¼Œåœ¨çˆ¶å…ƒç´ ä¸­è®¾ç½®heightä¸line-heightç›¸ç­‰æ—¶ï¼Œä¹Ÿå¯ä»¥å‚ç›´å±…ä¸­ï¼Œåªæ˜¯ä¼šå‡ºç°ä¸€äº›å°é—®é¢˜ã€‚æ¯”å¦‚åªæ˜¯æ–‡å­—å±…ä¸­è€Œdivæ²¡æœ‰å±…ä¸­ã€‚ï¼ˆå¦‚æœdivé«˜å’Œheadé«˜ä¸ç›¸ç­‰ï¼‰" class="headerlink" title="å½“ç„¶å¦‚æœheadä¹‹ä¸­åªæœ‰ä¸€è¡Œæ–‡å­—ï¼Œåœ¨çˆ¶å…ƒç´ ä¸­è®¾ç½®heightä¸line-heightç›¸ç­‰æ—¶ï¼Œä¹Ÿå¯ä»¥å‚ç›´å±…ä¸­ï¼Œåªæ˜¯ä¼šå‡ºç°ä¸€äº›å°é—®é¢˜ã€‚æ¯”å¦‚åªæ˜¯æ–‡å­—å±…ä¸­è€Œdivæ²¡æœ‰å±…ä¸­ã€‚ï¼ˆå¦‚æœdivé«˜å’Œheadé«˜ä¸ç›¸ç­‰ï¼‰"></a>å½“ç„¶å¦‚æœheadä¹‹ä¸­åªæœ‰ä¸€è¡Œæ–‡å­—ï¼Œåœ¨çˆ¶å…ƒç´ ä¸­è®¾ç½®heightä¸line-heightç›¸ç­‰æ—¶ï¼Œä¹Ÿå¯ä»¥å‚ç›´å±…ä¸­ï¼Œåªæ˜¯ä¼šå‡ºç°ä¸€äº›å°é—®é¢˜ã€‚æ¯”å¦‚åªæ˜¯æ–‡å­—å±…ä¸­è€Œdivæ²¡æœ‰å±…ä¸­ã€‚ï¼ˆå¦‚æœdivé«˜å’Œheadé«˜ä¸ç›¸ç­‰ï¼‰</h6><h3 id="ä¸‰ã€â€œdisplayï¼šblockâ€ä¸€ä¸ªblockçš„å±…ä¸­"><a href="#ä¸‰ã€â€œdisplayï¼šblockâ€ä¸€ä¸ªblockçš„å±…ä¸­" class="headerlink" title="ä¸‰ã€â€œdisplayï¼šblockâ€ä¸€ä¸ªblockçš„å±…ä¸­"></a>ä¸‰ã€â€œdisplayï¼šblockâ€ä¸€ä¸ªblockçš„å±…ä¸­</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.son</span>&#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â€‹        è¿™ä¸€ä¸²ä»£ç ååˆ†ç®€æ´ï¼Œååˆ†å®¹æ˜“è®°ä½ï¼Œä½†æ˜¯ä¸€å®šè¦æ‰¾åˆ°ä½¿ç”¨åœºåˆã€‚åœ¨ä¸€ä¸ªçˆ¶å…ƒç´ åªæœ‰ä¸€ä¸ªå­å…ƒç´ æ—¶ï¼Œæ­¤ä»£ç å¯ä»¥æ—¶è¯¥å…ƒç´ è‡ªé€‚åº”çš„å±…ä¸­ï¼Œæ¯”è¾ƒå¸¸ç”¨äºheadå¥—ç”¨ï¼Œpageæ•´ä½“å¸ƒå±€ä¸­ã€‚</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>:<span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â€‹        ä¸å¤šè¯´äº†ï¼Œæ³¨æ„åªèƒ½ç”¨äºå•è¡Œæ–‡å­—ã€‚ä¼šä½¿å­å…ƒç´ é«˜åº¦å˜å¤§ã€‚</p>
<h3 id="å››ã€â€œdisplay-tableâ€çš„å±…ä¸­"><a href="#å››ã€â€œdisplay-tableâ€çš„å±…ä¸­" class="headerlink" title="å››ã€â€œdisplay: tableâ€çš„å±…ä¸­"></a>å››ã€â€œdisplay: tableâ€çš„å±…ä¸­</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>:table;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.son</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>:table-cell;</span><br><span class="line">    <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â€‹        è¿™ç§æ–¹æ³•é€‚ç”¨æ€§ä¸å¼ºï¼Œå› ä¸ºå¤§å¤šæ•°displayå±æ€§ä¸ºblock,inlin-blockæˆ–è€…flexã€‚å†æ¬¡ä½¿ç”¨displayæ—¶å¯èƒ½ä¼šæ”¹å˜ä¸€äº›å±æ€§ã€‚</p>
<h3 id="äº”ã€å®šä½"><a href="#äº”ã€å®šä½" class="headerlink" title="äº”ã€å®šä½"></a>äº”ã€å®šä½</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.son</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â€‹        è¯¥æ–¹æ³•ç”¨äºsonå®½é«˜å·²çŸ¥ï¼</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.son</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-50%) <span class="built_in">translateY</span>(-50%);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â€‹        è¯¥æ–¹æ³•ç”¨äºsonå®½é«˜æœªçŸ¥ï¼</p>
<h6 id="æ€»çš„æ¥è¯´è‡ªé€‚åº”å±…ä¸­çš„æ–¹æ³•å°±è¿™äº›äº†ï¼Œå¦‚æœæƒ³çœ‹åˆ°æ›´å¤šçš„å±…ä¸­æ–¹å¼å¯ä»¥ç‚¹å‡»è¿™é‡Œè®¿é—®æé›ªè²å­¦å§åšçš„æ€»ç»“ï¼ï¼"><a href="#æ€»çš„æ¥è¯´è‡ªé€‚åº”å±…ä¸­çš„æ–¹æ³•å°±è¿™äº›äº†ï¼Œå¦‚æœæƒ³çœ‹åˆ°æ›´å¤šçš„å±…ä¸­æ–¹å¼å¯ä»¥ç‚¹å‡»è¿™é‡Œè®¿é—®æé›ªè²å­¦å§åšçš„æ€»ç»“ï¼ï¼" class="headerlink" title="æ€»çš„æ¥è¯´è‡ªé€‚åº”å±…ä¸­çš„æ–¹æ³•å°±è¿™äº›äº†ï¼Œå¦‚æœæƒ³çœ‹åˆ°æ›´å¤šçš„å±…ä¸­æ–¹å¼å¯ä»¥ç‚¹å‡»è¿™é‡Œè®¿é—®æé›ªè²å­¦å§åšçš„æ€»ç»“ï¼ï¼"></a>æ€»çš„æ¥è¯´è‡ªé€‚åº”å±…ä¸­çš„æ–¹æ³•å°±è¿™äº›äº†ï¼Œå¦‚æœæƒ³çœ‹åˆ°æ›´å¤šçš„å±…ä¸­æ–¹å¼å¯ä»¥ç‚¹å‡»è¿™é‡Œè®¿é—®æé›ªè²å­¦å§åšçš„æ€»ç»“ï¼ï¼</h6><p> <a href="https://lilixuelian.github.io/2019/05/22/center/" target="_blank" rel="noopener">https://lilixuelian.github.io/2019/05/22/center/</a> </p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  



          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="site-author-image" itemprop="image" alt="HCLacids"
    src="/images/avatar1.jpg">
  <p class="site-author-name" itemprop="name">HCLacids</p>
  <div class="site-description" itemprop="description">Fighting!</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">10</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
  </nav>
</div>
  <div class="feed-link motion-element">
    <a href="/atom.xml" rel="alternate">
      <i class="fa fa-rss"></i>RSS
    </a>
  </div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/HCLacids" title="GitHub &amp;rarr; https:&#x2F;&#x2F;github.com&#x2F;HCLacids" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/en" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 2019 â€“ 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">HCLacids</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> å¼ºåŠ›é©±åŠ¨ v4.0.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">ä¸»é¢˜ â€“ <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.5.0
  </div>

        












        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/muse.js"></script>
<script src="/js/next-boot.js"></script>



  
















  

  

</body>
</html>
